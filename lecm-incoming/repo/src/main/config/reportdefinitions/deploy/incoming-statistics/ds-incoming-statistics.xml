<?xml version="1.0" encoding="UTF-8"?>
<ds.config>
    <report.descriptor mnem="incoming-statistics">
        <l18>
            <item key="RU_RU" value="Статистические отчеты по документам"/>
        </l18>
        <provider javaClass="ru.it.lecm.reports.generators.GenericDSProviderBase" mnem="PROV_GENERIC_PROVIDER">
            <l18>
                <item key="RU_RU" value="genericProvider"/>
            </l18>
        </provider>
        <templates>
            <template type="JASPER" filename="incoming-statistics.jrxml" mnem="incoming-statistics">
                <l18>
                    <item key="RU_RU" value="incoming-statistics"/>
                </l18>
            </template>
        </templates>
        <datasource.descriptor>
            <l18>
                <item key="RU_RU" value="15ef54f6-857f-4e29-b7f2-4484456f1807"/>
            </l18>
        </datasource.descriptor>
        <roles>DA_REGISTRARS,DA_RECIPIENT_DYN,INCOMING_REVIEWERS,INCOMING_REVIEWERS_IN_UNIT,INCOMING_REVIEWER_DYN</roles>
    </report.descriptor>
    <query.descriptor>
        <offset>0</offset>
        <limit>-1</limit>
        <pgsize>-1</pgsize>
        <queryText><![CDATA[+TYPE:"lecm-eds-document:base" AND -@lecm\-statemachine\:status:"Черновик"]]></queryText>
        <querySort>col_DocKind|ASC,col_DocSubject|ASC,col_DocType|ASC</querySort>
        <allVersions>true</allVersions>
        <preferedType>lecm-incoming:document</preferedType>
        <isMultiRow>true</isMultiRow>
        <isCustom>false</isCustom>
        <flags/>
    </query.descriptor>
    <fields>
        <field jrFldName="dateReg" order="0" queryFldName="{lecm-document:doc-date}" displayName="Дата регистрации"
               javaValueClass="java.util.Date" alfrescoType="d:date">
            <parameter mnem="PARAM_TYPE_RANGE" paramType="PARAM_TYPE_RANGE">
                <l18>
                    <item key="RU_RU" value="Диапазон"/>
                </l18>
                <label1>
                    <item key="RU_RU" value="С"/>
                </label1>
                <label2>
                    <item key="RU_RU" value="По"/>
                </label2>
            </parameter>
        </field>

        <field jrFldName="incomingSubject" order="1" queryFldName="{lecm-document:subject-assoc-ref}" displayName="Тематика"
               javaValueClass="java.lang.String" alfrescoType="lecm-doc-dic:subjects">
            <parameter mnem="PARAM_TYPE_LIST" paramType="PARAM_TYPE_LIST">
                <l18> <item key="RU_RU" value="Список"/> </l18>
            </parameter>
        </field>

        <field alfrescoType="d:boolean" order="2" displayName="Только на контроле"
               javaValueClass="java.lang.Boolean" jrFldName="incomingContractOnly" queryFldName="{lecm-document-aspects:is-on-control}">
            <l18>
                <item key="RU_RU" value="Только на контроле"/>
            </l18>
            <parameter mnem="PARAM_TYPE_VALUE" paramType="PARAM_TYPE_VALUE">
                <l18> <item key="RU_RU" value="Значение"/> </l18>
            </parameter>
        </field>

        <field alfrescoType="d:text" displayName="Вид документа"
               expression="{lecm-eds-document:document-type-assoc/cm:name}" jrFldName="col_DocType">
            <l18>
                <item key="RU_RU" value="Вид документа"/>
            </l18>
        </field>

        <field jrFldName="col_DocSubject" queryFldName="{lecm-document:subject-assoc/cm:name}" displayName="Тематика"
               alfrescoType="d:text">
            <l18>
                <item key="RU_RU" value="Тематика"/>
            </l18>
        </field>

        <field alfrescoType="d:text" displayName="Тип документа"
               expression="{lecm-document:doc-type}" jrFldName="col_DocKind">
            <l18>
                <item key="RU_RU" value="Тип документа"/>
            </l18>
        </field>
    </fields>
</ds.config>
