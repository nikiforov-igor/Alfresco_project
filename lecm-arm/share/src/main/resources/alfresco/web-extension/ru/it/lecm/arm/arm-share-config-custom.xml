<alfresco-config>
    <config>
        <forms>
            <dependencies>
                <js src="/scripts/lecm-arm/arm-const.js"/>
            </dependencies>
        </forms>
    </config>

	<config evaluator="node-type" condition="lecm-arm:arm">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:code" force="true"/>
					<show id="lecm-arm:use-by-default" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:arm">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:code" force="true"/>
					<show id="lecm-arm:use-by-default" force="true"/>
				</field-visibility>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:code" force="true"/>
					<show id="lecm-arm:use-by-default" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:accordion">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:fields-assoc" force="true"/>
					<show id="lecm-arm:filters" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:business-roles-assoc" force="true"/>
					<show id="lecm-arm:accordion-query-assoc" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:fields-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:field-title}</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:business-roles-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="showViewIncompleteWarning">false</control-param>
							<control-param name="additionalFilter">@lecm-orgstr\\:business-role-is-dynamic: \"false\"</control-param>
						</control>
					</field>
					<field id="lecm-arm:accordion-query-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:search-query}</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:accordion">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:filters" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:business-roles-assoc" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:business-roles-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="showViewIncompleteWarning">false</control-param>
							<control-param name="additionalFilter">@lecm-orgstr\\:business-role-is-dynamic: \"false\"</control-param>
						</control>
					</field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:fields-assoc" force="true"/>
					<show id="lecm-arm:filters" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:node-query-assoc" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:fields-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:field-title}</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:node-query-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:search-query}</control-param>
							<control-param name="itemType">lecm-arm:static-query</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:filters" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
				</field-visibility>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:types" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:field">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:field-title" force="true"/>
					<show id="lecm-arm:field-name" force="true"/>
					<show id="lecm-arm:field-format-string" force="true"/>
					<show id="lecm-arm:field-sortable" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:field">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:field-title" force="true"/>
					<show id="lecm-arm:field-name" force="true"/>
					<show id="lecm-arm:field-format-string" force="true"/>
					<show id="lecm-arm:field-sortable" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:static-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:static-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:dynamic-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:list-query" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:dynamic-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:list-query" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:dynamic-dictionary-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:query-dictionary-assoc" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:dynamic-dictionary-query">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:query-dictionary-assoc" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>