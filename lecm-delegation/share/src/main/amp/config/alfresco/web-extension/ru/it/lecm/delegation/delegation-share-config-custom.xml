<?xml version='1.0' encoding='UTF-8'?>
<alfresco-config>
	<config evaluator="model-type" condition="lecm-d8n:delegation-opts">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-trustee-assoc"/>
					<show id="lecm-dic:active"/>
				</field-visibility>
                <appearance>
                    <field id="lecm-d8n:delegation-opts-owner-assoc" substituteString="{lecm-orgstr:employee-short-name}"/>
                <field id="lecm-d8n:delegation-opts-trustee-assoc" substituteString="{lecm-orgstr:employee-short-name}"/>
				</appearance>
            </form>
			<form id="search">
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-trustee-assoc"/>
				</field-visibility>
				<appearance>
					<field id="lecm-d8n:delegation-opts-owner-assoc" mandatory="false">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
							<control-param name="plane">true</control-param>
						</control>
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="keyup" />
                        </constraint-handlers>
                    </field>
					<field id="lecm-d8n:delegation-opts-trustee-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
							<control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-d8n:delegation-opts">
		<forms>
			<form id="view-node-form">
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
				</field-visibility>
			</form>
			<form id="delegation-opts-part1">
				<view-form template="/ru/it/lecm/delegation/opts/form/delegation-opts-form.ftl"/>
				<edit-form template="/ru/it/lecm/delegation/opts/form/delegation-opts-form.ftl"/>
				<appearance>
					<field id="lecm-d8n:delegation-opts-owner-assoc" read-only="true">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
					<field id="lecm-d8n:delegation-opts-trustee-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-dic:active"/>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-trustee-assoc"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-d8n:procuracy">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-d8n:procuracy-business-role-assoc"/>
                    <show id="lecm-d8n:procuracy-business-role-assoc-description" force="true"/>
                    <show id="lecm-d8n:procuracy-trustee-assoc"/>
				</field-visibility>
                <appearance>
                    <field id="lecm-d8n:procuracy-business-role-assoc" substituteString="{cm:name}"/>
					<field id="lecm-d8n:procuracy-business-role-assoc-description" substituteString="{lecm-d8n:procuracy-business-role-assoc/lecm-orgstr:business-role-description}"></field>
					<field id="lecm-d8n:procuracy-trustee-assoc" substituteString="{lecm-orgstr:employee-short-name}">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
                </appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-d8n:procuracy">
		<forms>
			<form id="editProcuracy">
				<appearance>
					<field id="lecm-d8n:procuracy-business-role-assoc" read-only="true">
						<control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-d8n:procuracy-business-role-assoc"/>
					<show id="lecm-d8n:procuracy-trustee-assoc"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-d8n:global-settings">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-d8n:create-document-delegation-setting"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-d8n:global-settings">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-d8n:create-document-delegation-setting"/>
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>
