<alfresco-config>

    <config evaluator="node-type" condition="lecm-orgstr:employee">
        <forms>
            <form>
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <view-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-photo-assoc"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                    <show id="lecm-orgstr:employee-fio-g"/>
                    <show id="lecm-orgstr:employee-fio-d"/>
                    <show id="lecm-orgstr:employee-is-system-user"/>
                    <show id="lecm-orgstr:employee-person-assoc"/>
                    <show id="lecm-orgstr:employee-person-data-assoc"/>
                    <show id="lecm-orgstr:employee-positions" for-mode="edit"/>
                    <show id="lecm-orgstr:employee-roles" for-mode="edit"/>
                </field-visibility>
                <appearance>
                    <set id="common" appearance="" label-id="info.common-info" />
                    <set id="personal" appearance="" label-id="info.personal-info" />
                    <set id="positions" appearance="" label-id="info.personal-positions" />
                    <set id="groups" appearance="" label-id="info.personal-groups" />
                    <field id="lecm-orgstr:employee-first-name" set="common"/>
                    <field id="lecm-orgstr:employee-middle-name" set="common"/>
                    <field id="lecm-orgstr:employee-last-name" set="common"/>
                    <field id="lecm-orgstr:employee-sex" set="common"/>
                    <field id="lecm-orgstr:employee-email" set="common">
                        <constraint-handlers>
                            <constraint type="REGEX" validation-handler="Alfresco.forms.validation.email" event="keyup" />
                        </constraint-handlers>
                    </field>
                    <field id="lecm-orgstr:employee-photo-assoc" set="common">
                        <control template="/ru/it/lecm/orgstructure/controls/show.image.ctrl.ftl"/>
                    </field>
                    <field id="lecm-orgstr:employee-phone" set="common"/>
                    <field id="lecm-orgstr:employee-number" set="common"/>
                    <field id="lecm-orgstr:employee-fio-g" set="common"/>
                    <field id="lecm-orgstr:employee-fio-d" set="common"/>
                    <field id="lecm-orgstr:employee-is-system-user" set="common"/>
                    <field id="lecm-orgstr:employee-person-assoc" set="common"/>
                    <field id="lecm-orgstr:employee-person-data-assoc" set="personal">
                        <control template="/ru/it/lecm/orgstructure/controls/view.personal.data.ftl"/>
                    </field>
                    <field id="lecm-orgstr:employee-positions" set="positions">
                        <control template="/ru/it/lecm/orgstructure/controls/employee.positions.ctrl.ftl">
                            <control-param name="itemType">lecm-orgstr:staff-list</control-param>
                            <control-param name="allowCreate">false</control-param>
                            <control-param name="showActions">false</control-param>
                            <control-param name="datagridFormId">employee-positions</control-param>
                            <control-param name="ds">lecm/orgstructure/ds/employee-positions</control-param>
                        </control>
                    </field>
                    <field id="lecm-orgstr:employee-roles" set="groups">
                        <control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
                            <control-param name="itemType">lecm-orgstr:workforce</control-param>
                            <control-param name="allowCreate">false</control-param>
                            <control-param name="showActions">false</control-param>
                            <control-param name="datagridFormId">employee-groups</control-param>
                            <control-param name="ds">lecm/orgstructure/ds/employee-roles</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employee">
        <forms>
            <form>
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- чтобы иметь возможность сохранить с требуемым именем-->
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-photo-assoc"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                    <show id="lecm-orgstr:employee-fio-g"/>
                    <show id="lecm-orgstr:employee-fio-d"/>
                    <show id="lecm-orgstr:employee-is-system-user"/>
                    <show id="lecm-orgstr:employee-person-assoc"/>
                </field-visibility>
                <appearance>
                    <set id="common" appearance="" label-id="info.common-info" />
                    <set id="personal" appearance="" label-id="info.personal-info" />
                    <field id="lecm-orgstr:employee-first-name" set="common"/>
                    <field id="lecm-orgstr:employee-middle-name" set="common"/>
                    <field id="lecm-orgstr:employee-last-name" set="common"/>
                    <field id="lecm-orgstr:employee-sex" set="common"/>
                    <field id="lecm-orgstr:employee-email" set="common">
                        <constraint-handlers>
                            <constraint type="REGEXP" validation-handler="Alfresco.forms.validation.email" event="keyup" />
                        </constraint-handlers>
                    </field>
                    <field id="lecm-orgstr:employee-photo-assoc" set="common">
                        <control template="/ru/it/lecm/orgstructure/controls/show.image.ctrl.ftl"/>
                    </field>
                    <field id="lecm-orgstr:employee-phone" set="common"/>
                    <field id="lecm-orgstr:employee-number" set="common"/>
                    <field id="lecm-orgstr:employee-fio-g" set="common"/>
                    <field id="lecm-orgstr:employee-fio-d" set="common"/>
                    <field id="lecm-orgstr:employee-is-system-user" set="common"/>
                    <field id="lecm-orgstr:employee-person-assoc" set="common"/>
                    <field id="cm:name" set="common">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-phone"/>
	                <show id="lecm-orgstr:employee-main-unit|{..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}" force="true"/>
	                <show id="lecm-orgstr:employee-main-position|{..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name}" force="true"/>
                    <show id="lecm-orgstr:employee-email"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:employee-sex">
                        <control template="/ru/it/lecm/base-share/components/select-one-with-empty.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:organization">
        <forms>
            <form>
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:org-leg-address"/>
                    <show id="lecm-orgstr:org-act-address"/>
                    <show id="lecm-orgstr:org-off-site"/>
                    <show id="lecm-orgstr:org-phone"/>
                    <show id="lecm-orgstr:org-fax"/>
                    <show id="lecm-orgstr:org-email"/>
                    <show id="lecm-orgstr:org-logo-assoc"/>
                    <show id="lecm-orgstr:org-tin"/>
                    <show id="lecm-orgstr:org-ownership-type"/>
                    <show id="lecm-orgstr:org-incorporation-form"/>
                    <show id="lecm-orgstr:org-founding-docs"/>
                    <show id="lecm-orgstr:org-boss-assoc"/>
                </field-visibility>
                <appearance>
                    <set id="main" appearance="" label-id="info.main" />
                    <set id="other" appearance="" label-id="info.more" />
                    <field id="lecm-orgstr:element-full-name" set="main"/>
                    <field id="lecm-orgstr:element-short-name" set="main"/>
                    <field id="lecm-orgstr:org-leg-address" set="main"/>
                    <field id="lecm-orgstr:org-act-address" set="main"/>
                    <field id="lecm-orgstr:org-off-site" set="main"/>
                    <field id="lecm-orgstr:org-phone" set="main"/>
                    <field id="lecm-orgstr:org-fax" set="main"/>
                    <field id="lecm-orgstr:org-email" set="main"/>
                    <field id="lecm-orgstr:org-logo-assoc" set="other">
                        <control template="/ru/it/lecm/orgstructure/controls/show.image.ctrl.ftl">
                            <!-- Настройка для bubbling. type1:nameAction1,nameAction2|type2:nameAction1,nameAction2-->
                            <control-param name="fireAction">ok:imageUpdated</control-param>
                        </control>
                    </field>
                    <field id="lecm-orgstr:org-tin" set="other"/>
                    <field id="lecm-orgstr:org-ownership-type" set="other"/>
                    <field id="lecm-orgstr:org-incorporation-form" set="other"/>
                    <field id="lecm-orgstr:org-founding-docs" set="other"/>
                    <field id="lecm-orgstr:org-boss-assoc" set="other">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {lecm-orgstr:employee-last-name}</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:organization">
        <forms>
            <form>
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:org-leg-address"/>
                    <show id="lecm-orgstr:org-act-address"/>
                    <show id="lecm-orgstr:org-off-site"/>
                    <show id="lecm-orgstr:org-phone"/>
                    <show id="lecm-orgstr:org-fax"/>
                    <show id="lecm-orgstr:org-email"/>
                    <show id="lecm-orgstr:org-logo-assoc"/>
                    <show id="lecm-orgstr:org-tin"/>
                    <show id="lecm-orgstr:org-ownership-type"/>
                    <show id="lecm-orgstr:org-incorporation-form"/>
                    <show id="lecm-orgstr:org-founding-docs"/>
                    <show id="lecm-orgstr:org-boss-assoc"/>
                </field-visibility>
                <appearance>
                    <set id="main" appearance="" label-id="info.main" />
                    <set id="other" appearance="" label-id="info.more" />
                    <field id="lecm-orgstr:element-full-name" set="main"/>
                    <field id="lecm-orgstr:element-short-name" set="main"/>
                    <field id="lecm-orgstr:org-leg-address" set="main"/>
                    <field id="lecm-orgstr:org-act-address" set="main"/>
                    <field id="lecm-orgstr:org-off-site" set="main"/>
                    <field id="lecm-orgstr:org-phone" set="main"/>
                    <field id="lecm-orgstr:org-fax" set="main"/>
                    <field id="lecm-orgstr:org-email" set="main"/>
                    <field id="lecm-orgstr:org-logo-assoc" set="other"/>
                    <field id="lecm-orgstr:org-tin" set="other"/>
                    <field id="lecm-orgstr:org-ownership-type" set="other"/>
                    <field id="lecm-orgstr:org-incorporation-form" set="other"/>
                    <field id="lecm-orgstr:org-founding-docs" set="other"/>
                    <field id="lecm-orgstr:org-boss-assoc" set="other">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Регионы</control-param>
                            <control-param name="nameSubstituteString">{cm:name} ({lecm-dic-regions:code})</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:organization-unit">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:organization-unit">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- для того, чтобы сохранить под требуемым именем-->
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:boss|{cm:contains(lecm-orgstr:staff-list-is-boss=true)/lecm-orgstr:element-member-employee-assoc/lecm-orgstr:employee-link-employee-assoc/cm:name}"/>
                    <show id="lecm-orgstr:unit-code"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:unit-type">
                        <control template="/ru/it/lecm/base-share/components/select-one-with-empty.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:position">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                    <show id="lecm-orgstr:position-name-g"/>
                    <show id="lecm-orgstr:position-name-d"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:position">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                    <show id="lecm-orgstr:position-name-g"/>
                    <show id="lecm-orgstr:position-name-d"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:personal-data">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:person-data-address"/>
                    <show id="lecm-orgstr:person-data-email"/>
                    <show id="lecm-orgstr:person-data-phone"/>
                    <show id="lecm-orgstr:person-data-date"/>
                    <show id="lecm-orgstr:person-data-service-id"/>
                    <show id="lecm-orgstr:person-data-docType-assoc"/>
                    <show id="lecm-orgstr:person-data-doc-series"/>
                    <show id="lecm-orgstr:person-data-doc-number"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:personal-data">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:person-data-address"/>
                    <show id="lecm-orgstr:person-data-email"/>
                    <show id="lecm-orgstr:person-data-phone"/>
                    <show id="lecm-orgstr:person-data-date"/>
                    <show id="lecm-orgstr:person-data-service-id"/>
                    <show id="lecm-orgstr:person-data-docType-assoc"/>
                    <show id="lecm-orgstr:person-data-doc-series"/>
                    <show id="lecm-orgstr:person-data-doc-number"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workGroup">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:workGroup-description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:workGroup-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workGroup">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- Для сохранения с иным именем-->
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:workGroup-description"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-orgstr:workGroup-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-short-name"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workforce">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:workforce-comment"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:workforce-comment">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Роли_x0020_для_x0020_рабочих_x0020_групп</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workforce">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:workforce-comment"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:workforce-comment">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Роли_x0020_для_x0020_рабочих_x0020_групп</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
	                <show id="lecm-orgstr:element-member-employee-assoc|{lecm-orgstr:employee-link-employee-assoc/cm:name}"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                </field-visibility>
            </form>
            <form id="employee-groups">
                <field-visibility>
                    <show id="lecm-orgstr:workforce-group|{../lecm-orgstr:element-short-name}" force="true"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:staff-list">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:staff-list-description"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Должностные_x0020_позиции</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-orgstr:staff-list-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-orgstr:staff-list-is-boss">
                        <control template="/ru/it/lecm/orgstructure/controls/checkbox.readonly.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:staff-list">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:staff-list-description"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Должностные_x0020_позиции</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
	                        <control-param name="showCreateNewLink">false</control-param>
	                        <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-orgstr:staff-list-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc|{lecm-orgstr:employee-link-employee-assoc/cm:name}"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
            </form>
            <form id="employee-positions">
                <field-visibility>
                    <show id="lecm-orgstr:staff-unit|{../lecm-orgstr:element-short-name}" force="true"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:primary-position|{lecm-orgstr:element-member-employee-assoc/lecm-orgstr:employee-link-is-primary}" force="true"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:employees">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employees">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:structure">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:structure">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <!--    <config evaluator="node-type" condition="lecm-orgstr:project-roles">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:project-roles">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>-->

    <config evaluator="node-type" condition="lecm-orgstr-roles:role">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr-roles:role-description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr-roles:role-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr-roles:role">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr-roles:role-description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr-roles:role-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:staffPosition">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:staffPosition-name-g"/>
                    <show id="lecm-orgstr:staffPosition-name-d"/>
                    <show id="lecm-orgstr:staffPosition-code"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:staffPosition">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:staffPosition-name-g"/>
                    <show id="lecm-orgstr:staffPosition-name-d"/>
                    <show id="lecm-orgstr:staffPosition-code"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:staffPosition-name-g"/>
                    <show id="lecm-orgstr:staffPosition-name-d"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workRole">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:workRole-description"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workRole">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:workRole-description"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:workRole-description"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr-docType:documentType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr-docType:documentType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:employee-link">
        <forms>
            <form id="el-staff">
                <field-visibility>
                    <show id="lecm-orgstr:employee-link-employee-assoc"/>
                    <show id="lecm-orgstr:employee-link-is-primary"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:employee-link-is-primary">
                        <control template="/ru/it/lecm/orgstructure/controls/checkbox.readonly.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="el-work">
                <field-visibility>
                    <show id="lecm-orgstr:employee-link-employee-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employee-link">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:employee-link-employee-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="string-compare" condition="AdvancedSearch">
        <advanced-search>
            <forms>
                <form>lecm-orgstr:project</form>
                <form>lecm-orgstr:organization-unit</form>
                <form>lecm-orgstr:employee</form>
            </forms>
        </advanced-search>
    </config>

	<config evaluator="model-type" condition="lecm-orgstr:business-role">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-orgstr:business-role-description"/>
				</field-visibility>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-orgstr:business-role-description"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-orgstr:business-role">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-orgstr:business-role-description"/>
				</field-visibility>
			</form>
			<form id="configureBusinessRole">
				<appearance>
					<field id="lecm-orgstr:business-role-employee-assoc">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-orgstr:business-role-organization-element-assoc">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Организация/cm:Структура</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">false</control-param>
							<control-param name="showSearch">false</control-param>
							<control-param name="showSelectedItemsPath">false</control-param>
							<control-param name="treeItemType">lecm-orgstr:organization-unit</control-param>
						</control>
					</field>
					<field id="lecm-orgstr:business-role-organization-element-member-assoc">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<control-param name="rootLocation">/app:company_home/cm:Организация/cm:Структура</control-param>
							<control-param name="nameSubstituteString">{lecm-orgstr:element-member-position-assoc/cm:name} {lecm-orgstr:element-member-employee-assoc/lecm-orgstr:employee-link-employee-assoc/cm:name}</control-param>
							<control-param name="selectedItemsNameSubstituteString">{lecm-orgstr:element-member-position-assoc/cm:name} {../lecm-orgstr:element-short-name} {lecm-orgstr:element-member-employee-assoc/lecm-orgstr:employee-link-employee-assoc/cm:name}</control-param>
							<control-param name="treeItemType">lecm-orgstr:organization-unit</control-param>
							<control-param name="plane">false</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="showSelectedItemsPath">false</control-param>
							<control-param name="showSearch">false</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-orgstr:business-role-description"/>
					<show id="lecm-orgstr:business-role-employee-assoc"/>
					<show id="lecm-orgstr:business-role-organization-element-assoc"/>
					<show id="lecm-orgstr:business-role-organization-element-member-assoc"/>
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>