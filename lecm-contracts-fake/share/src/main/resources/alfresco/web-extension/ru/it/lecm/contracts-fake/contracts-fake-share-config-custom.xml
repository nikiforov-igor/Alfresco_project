<alfresco-config>

	<config evaluator="node-type" condition="lecm-contract-fake:document">
		<forms>
			<form>
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <view-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-document:regnum" force="true"/>
					<show id="lecm-contract-fake:contentAttr" force="true"/>
                    <show id="lecm-table-structure1:tableDataRow-assoc"/>
                    <show id="lecm-table-structure2:tableDataRow-assoc"/>
				</field-visibility>
				<appearance>
                    <set id="tab1" appearance="" label-id="label.tab1" />
                    <set id="tab2" appearance="" label-id="label.tab2" />
                    <set id="tab3" appearance="" label-id="label.tab3" />
                    <field id="cm:name" set="tab1"/>
                    <field id="lecm-document:regnum" set="tab1"/>
                    <field id="lecm-contract-fake:contentAttr" set="tab1">
                        <control  template="/ru/it/lecm/base-share/components/controls/richtext.ftl"/>
					</field>
                    <field id="lecm-table-structure1:tableDataRow-assoc" set="tab2">
                        <control template="/ru/it/lecm/base-share/components/controls/datagrid-control.ftl">
                            <control-param name="itemType">lecm-table-structure1:tableDataRow</control-param>
                            <control-param name="allowCreate">true</control-param>
                            <control-param name="showActions">true</control-param>
                            <control-param name="fullDelete">true</control-param>
                            <control-param name="height">100</control-param>
                            <control-param name="bubblingLabel">lecm-contract-fake1-aspects</control-param>
                        </control>
                    </field>
                    <field id="lecm-table-structure2:tableDataRow-assoc" set="tab3">
                        <control template="/ru/it/lecm/base-share/components/controls/datagrid-control.ftl">
                            <control-param name="itemType">lecm-table-structure2:tableDataRow</control-param>
                            <control-param name="allowCreate">true</control-param>
                            <control-param name="showActions">true</control-param>
                            <control-param name="fullDelete">true</control-param>
                            <control-param name="height">100</control-param>
                            <control-param name="bubblingLabel">lecm-contract-fake2-aspects</control-param>
                        </control>
                    </field>
				</appearance>
			</form>
            <form id="document">
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-statemachine:status" force="true"/>
                    <show id="lecm-document:regnum" force="true"/>
                </field-visibility>
            </form>
            <form id="document-dashlet">
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-document-aspects:rating"/>
                    <show id="lecm-document-aspects:rated-persons-count"/>
                    <show id="lecm-statemachine:status" force="true"/>
                    <show id="lecm-document:regnum" force="true"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-statemachine:status">
                        <control template="/ru/it/lecm/documents/controls/history/status-history.ftl"/>
                    </field>
                </appearance>
            </form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-contract-fake:document">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-document:regnum" force="true"/>
                    <show id="lecm-contract-fake:contentAttr" force="true"/>
				</field-visibility>
				<appearance>
					<field id="cm:name"/>
					<field id="lecm-document:regnum"/>
                    <field id="lecm-contract-fake:contentAttr"/>
				</appearance>
			</form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-document:regnum" force="true"/>
                    <show id="lecm-document:present-string" force="true"/>
                    <show id="lecm-statemachine:status" force="true"/>
                </field-visibility>
            </form>
		</forms>
	</config>

    <config evaluator="model-type" condition="lecm-table-structure1:tableDataRow">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-table-structure1:text" force="true"/>
                    <show id="lecm-table-structure1:number" force="true"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-table-structure2:tableDataRow">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-table-structure2:text" force="true"/>
                    <show id="lecm-table-structure2:number" force="true"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="string-compare" condition="AdvancedSearch">
        <advanced-search>
            <forms>
                <form>lecm-contract-fake:document</form>
            </forms>
        </advanced-search>
    </config>

	<config evaluator="string-compare" condition="Workflow">
		<hidden-workflows>
			<workflow name="activiti$lecm-contract-fake_document"/>
		</hidden-workflows>
	</config>

	<config evaluator="string-compare" condition="LECMStatemachineWorkflow">
		<hidden-workflows>
			<workflow name="activiti$lecm-contract-fake_document"/>
		</hidden-workflows>
	</config>

</alfresco-config>