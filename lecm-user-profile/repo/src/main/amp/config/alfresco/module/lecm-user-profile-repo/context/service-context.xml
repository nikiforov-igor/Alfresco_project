<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
						   http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<bean id="userProfile.arm.LogicEcmBootstrap" parent="lecmDictionaryBootstrap"
	      depends-on="arm.LogicEcmBootstrap, armService, arm.filters.LogicEcmBootstrap">
		<property name="rootPath" value="/Business platform/LECM/Сервис АРМ"/>
		<property name="dictionaries">
			<list>
				<value>alfresco/module/${artifactId}/arm/default-arm-my-profile.xml</value>
			</list>
		</property>
	</bean>

	<bean name="useSettings.shared.cache" factory-bean="cacheFactory" factory-method="createCache">
		<constructor-arg value="cache.user.settings.shared.cache"/>
	</bean>

	<bean name="useSettings.cache" class="org.alfresco.repo.cache.TransactionalCache">
		<property name="sharedCache" ref="useSettings.shared.cache"/>
		<property name="name" value="ru.it.lecm.cache.user.settings"/>
	</bean>

	<bean id="userSettingsWebScript" parent="baseScript" class="ru.it.lecm.user.profile.scripts.UserSettingsWebScriptBean">
		<property name="extensionName" value="userSettings"/>
		<property name="service" ref="userSettingsService"/>
	</bean>

	<bean id="userSettingsService" class="ru.it.lecm.user.profile.beans.UserSettingsServiceImpl" parent="baseBean">
		<property name="userSettingsCache" ref="useSettings.cache"/>
		<property name="contentService" ref="contentService"/>
		<property name="directoriesDeep" value="3"/>
		<property name="folders">
			<map>
				<entry key="USER_SETTINGS_ID" value="Настройки пользователей"/>
			</map>
		</property>
	</bean>
</beans>
