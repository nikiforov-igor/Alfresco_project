<?xml version='1.0' encoding='UTF-8'?>
<alfresco-config>
	<config evaluator="node-type" condition="lecm-ba:procuracy">
		<forms>
			<form>
				<appearance>
					<field id="lecm-ba:fromEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-ba:toEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
<!--					<field id="lecm-ba:delegateRoles">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<control-param name="rootLocation">/app:company_home</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>-->
					<field id="lecm-ba:comment">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="rows">5</control-param>
						</control>
					</field>
					<field id="lecm-ba:parentProcuracy">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<!-- пока так, но боюсь это неправильно, скорее всего неправильно создается DELEGATION_ROOT
							 | или свой	тип данных надо делать для DELEGATION_ROOT
							 | или вообще делать общую папку LogicEcm и в нее уже все гадить
							-->
							<control-param name="rootLocation">/app:company_home/lecm-ba:DELEGATIONS_ROOT</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
					<field id="lecm-ba:status" read-only="true"/>
				</appearance>
				<field-visibility>
					<show id="lecm-ba:fromEmployee"/> <!-- делегирующий -->
					<show id="lecm-ba:toEmployee"/> <!-- доверенное лицо -->
					<show id="lecm-ba:dateUTCBegin"/> <!-- дата начала -->
					<show id="lecm-ba:dateUTCEnd"/>  <!-- дата окончания -->
					<!-- бессрочная ???? -->
					<show id="lecm-ba:allFunctions"/> <!-- все функции -->
					<show id="lecm-ba:delegateRoles"/> <!-- делегируемые ф-ции/выбранные ф-ции -->
					<show id="lecm-ba:canpropogate"/>  <!-- возможно вторичное делегирование -->
					<show id="lecm-ba:comment"/>  <!-- комментарий -->
					<show id="lecm-ba:parentProcuracy"/>  <!-- документ основание -->
					<show id="lecm-ba:dateUTCRevoke"/>  <!-- дата прекращения (отзыва) -->
					<show id="lecm-ba:status"/> <!-- статус -->
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-ba:procuracy">
		<forms>
			<form>
				<appearance>
					<field id="lecm-ba:fromEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-ba:toEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
<!--					<field id="lecm-ba:delegateRoles">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<control-param name="rootLocation">/app:company_home</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>-->
					<field id="lecm-ba:comment">
						<control template="/org/alfresco/components/form/controls/textarea.ftl">
							<control-param name="rows">5</control-param>
						</control>
					</field>
					<field id="lecm-ba:parentProcuracy">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<!-- пока так, но боюсь это неправильно, скорее всего неправильно создается DELEGATION_ROOT
							 | или свой	тип данных надо делать для DELEGATION_ROOT
							 | или вообще делать общую папку LogicEcm и в нее уже все гадить
							-->
							<control-param name="rootLocation">/app:company_home/lecm-ba:DELEGATIONS_ROOT</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
					<field id="lecm-ba:status" read-only="true"/>
				</appearance>
				<field-visibility>
					<show id="lecm-ba:fromEmployee"/> <!-- делегирующий -->
					<show id="lecm-ba:toEmployee"/> <!-- доверенное лицо -->
					<show id="lecm-ba:dateUTCBegin"/> <!-- дата начала -->
					<show id="lecm-ba:dateUTCEnd"/>  <!-- дата окончания -->
					<!-- бессрочная ???? -->
					<show id="lecm-ba:allFunctions"/> <!-- все функции -->
					<show id="lecm-ba:delegateRoles"/> <!-- делегируемые ф-ции/выбранные ф-ции -->
					<show id="lecm-ba:canpropogate"/>  <!-- возможно вторичное делегирование -->
					<show id="lecm-ba:comment"/>  <!-- комментарий -->
					<show id="lecm-ba:parentProcuracy"/>  <!-- документ основание -->
					<show id="lecm-ba:dateUTCRevoke"/>  <!-- дата прекращения (отзыва) -->
					<show id="lecm-ba:status"/> <!-- статус -->
				</field-visibility>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-ba:fromEmployee"/> <!-- Делегирующий -->
					<show id="lecm-ba:toEmployee"/> <!-- Доверенное лицо -->
					<show id="lecm-ba:dateUTCBegin"/> <!-- Дата начала -->
					<show id="lecm-ba:dateUTCEnd"/> <!-- Дата окончания -->
					<!--
					показать столбец со значением true/false показывающим вторичное это делегирование или нет
					рендерер видимо навесить надо...на столбец
					-->
					<show id="lecm-ba:parentProcuracy"/> <!-- вторично -->
					<show id="lecm-ba:status"/> <!-- статус -->
				</field-visibility>
			</form>
			<form id="search">
				<appearance>
					<field id="lecm-ba:fromEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-ba:toEmployee">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-ba:parentProcuracy">
						<control template="/ru/it/lecm/base-share/components/association-tree-control/association-tree-picker.ftl">
							<!-- пока так, но боюсь это неправильно, скорее всего неправильно создается DELEGATION_ROOT
							 | или свой	тип данных надо делать для DELEGATION_ROOT
							 | или вообще делать общую папку LogicEcm и в нее уже все гадить
							-->
							<control-param name="rootLocation">/app:company_home/lecm-ba:DELEGATIONS_ROOT</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="plane">true</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-ba:fromEmployee"/> <!-- Делегирующий -->
					<show id="lecm-ba:toEmployee"/> <!-- Доверенное лицо -->
					<show id="lecm-ba:dateUTCBegin"/> <!-- Дата начала -->
					<show id="lecm-ba:dateUTCEnd"/> <!-- Дата окончания -->
					<!--
					показать столбец со значением true/false показывающим вторичное это делегирование или нет
					рендерер видимо навесить надо...на столбец
					-->
					<show id="lecm-ba:parentProcuracy"/> <!-- вторично -->
					<show id="lecm-ba:status"/> <!-- статус -->
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-d8n:delegation-opts">
		<forms>
			<form id="createDelegationOptsForm">
				<appearance>
					<field id="lecm-d8n:delegation-opts-owner-assoc">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
					<field id="lecm-d8n:delegation-opts-can-transfer-rights" read-only="true"/>
					<field id="lecm-d8n:delegation-opts-can-delegate-all" read-only="true"/>
					<field id="lecm-d8n:delegation-opts-status" read-only="true"/>
				</appearance>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-can-transfer-rights"/>
					<show id="lecm-d8n:delegation-opts-can-delegate-all"/>
					<show id="lecm-d8n:delegation-opts-status"/>
				</field-visibility>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-can-delegate-all"/>
					<show id="lecm-d8n:delegation-opts-status"/>
				</field-visibility>
			</form>
			<form id="search">
				<appearance>
					<field id="lecm-d8n:delegation-opts-owner-assoc">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-status"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-d8n:delegation-opts">
		<forms>
			<form id="view-node-form">
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
					<show id="lecm-d8n:delegation-opts-status"/>
					<show id="lecm-d8n:delegation-opts-can-delegate-all"/>
					<show id="lecm-d8n:delegation-opts-can-transfer-rights"/>
				</field-visibility>
			</form>
			<form id="delegation-opts-part1">
				<appearance>
					<field id="lecm-d8n:delegation-opts-status" read-only="true"/>
					<field id="lecm-d8n:delegation-opts-owner-assoc">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-status"/>
					<show id="lecm-d8n:delegation-opts-owner-assoc"/>
				</field-visibility>
			</form>
			<form id="delegation-opts-part2">
				<appearance>
					<field id="lecm-d8n:delegation-opts-trustee-assoc">
						<control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
						</control>
					</field>
				</appearance>
				<field-visibility>
					<show id="lecm-d8n:delegation-opts-trustee-assoc"/>
					<show id="lecm-d8n:delegation-opts-can-transfer-rights"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-d8n:procuracy">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-d8n:trustee-assoc"/>
					<show id="lecm-d8n:business-role-assoc"/>
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>
