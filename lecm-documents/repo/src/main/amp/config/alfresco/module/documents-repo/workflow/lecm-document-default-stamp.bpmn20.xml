<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:activiti="http://activiti.org/bpmn"
             typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath"
             targetNamespace="http://www.it.ru/logicECM/document/workflow/documentStamp/1.0">
    <process id="documentStamp" name="Штамп. Пример">
        <startEvent id="startdocumentStamp" name="Start" activiti:formKey="lecmWorkflowDocument:documentStamp"/>
        <endEvent id="enddocumentStamp" name="End"/>
        <scriptTask id="documentStampTask" name="Document Stamp" scriptFormat="javascript">
            <extensionElements>
                <activiti:executionListener event="start"
                                            class="org.alfresco.repo.workflow.activiti.listener.ScriptExecutionListener">
                    <activiti:field name="script">
                        <activiti:string><![CDATA[
                            documentStamp.drawStamp(lecmWorkflowDocument_documentStampSettings);
                            ]]>
                        </activiti:string>
                    </activiti:field>
                </activiti:executionListener>
            </extensionElements>
            <script>>var test=1;</script>
        </scriptTask>
        <receiveTask id="ReceiveTask" name="Receive Task"/>
        <sequenceFlow id="flow1" name="" sourceRef="startdocumentStamp" targetRef="documentStampTask"/>
        <sequenceFlow id="flow2" name="" sourceRef="documentStampTask" targetRef="ReceiveTask"/>
        <sequenceFlow id="flow3" name="" sourceRef="ReceiveTask" targetRef="enddocumentStamp"/>
    </process>
</definitions>