<alfresco-config>
    <config>
        <forms>
            <default-controls>
                <type name="TEMPLATES" template="/ru/it/lecm/reports-editor/controls/select-report-template-control.ftl">
                    <control-param name="ctrlValue">templateCode</control-param>
                    <control-param name="notSelectedOptionLabel"> </control-param>
                    <control-param name="notSelectedOption">false</control-param>
                    <control-param name="fromParent">false</control-param>
                </type>
                <type name="datetime-limit" template="/ru/it/lecm/base-share/components/controls/date.ftl">
                    <control-param name="showTime">true</control-param>
                    <control-param name="minLimitArg">current-date</control-param>
                </type>
                <type name="date-limit" template="/ru/it/lecm/base-share/components/controls/date.ftl">
                    <control-param name="minLimitArg">current-date</control-param>
                </type>
            </default-controls>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportDescriptor">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                    <show id="lecm-rpeditor:reportDocType"/>
                    <show id="lecm-rpeditor:businessRolesAssoc"/>
                    <show id="lecm-rpeditor:runAsSystem"/>
                    <show id="lecm-rpeditor:includeAllOrganizations"/>
                    <show id="lecm-rpeditor:reportProviderAssoc"/>
                    <show id="lecm-rpeditor:loadColumnsFromSQL"/>
                    <show id="lecm-rpeditor:reportObjectsMultiplicity"/>
                    <show id="lecm-rpeditor:reportQuery"/>
                    <show id="lecm-rpeditor:reportQuerySort"/>
                    <show id="change-provider-type-listener"/>
                </field-visibility>
                <appearance>
                    <field id="change-provider-type-listener">
                        <control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
                            <control-param name="scripts">scripts/lecm-reports-editor/change-provider-type-listener.js</control-param>
                        </control>
                    </field>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportQuery" help-id="report.query.help">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:reportObjectsMultiplicity" help-id="report.multiply.help"/>
                    <field id="lecm-rpeditor:reportCode" help-id="report.code.help">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                    <field id="lecm-rpeditor:reportDocType" help-id="report.doctype.help"/>
                    <field id="lecm-rpeditor:reportProviderAssoc" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_провайдера</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeProviderType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:loadColumnsFromSQL" help-id="report.loadColumnsFromSQL.help"/>
                    <field id="lecm-rpeditor:reportQuerySort" help-id="report.sort.help"/>
                    <field id="lecm-rpeditor:businessRolesAssoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="showCreateNewLink">false</control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="showViewIncompleteWarning">false</control-param>
                            <control-param name="additionalFilter">@lecm\\-orgstr\\:business\\-role\\-is\\-dynamic:\"false\"</control-param>
                            <control-param name="plane">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportDescriptor">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                    <show id="lecm-rpeditor:reportDocType"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportCode">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                    <show id="lecm-rpeditor:reportIsDeployed"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:subReportDescriptor">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                    <show id="lecm-rpeditor:parentReportTemplateAssoc"/>
                    <show id="lecm-rpeditor:reportProviderAssoc"/>
                    <show id="lecm-rpeditor:reportQuery"/>
                    <show id="lecm-rpeditor:reportQuerySort"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportCode" help-id="report.code.help">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                    <field id="lecm-rpeditor:reportQuery">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:parentReportTemplateAssoc">
                        <control template="/ru/it/lecm/reports-editor/controls/select-report-template-control.ftl">
                            <control-param name="ctrlValue">nodeRef</control-param>
                            <control-param name="notSelectedOption">true</control-param>
                            <control-param name="fromParent">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:reportProviderAssoc" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_провайдера</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeProviderType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:reportQuerySort" help-id="report.sort.help"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:subReportDescriptor">
        <forms>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportCode" help-id="report.code.help">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportTemplate">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:templateCode"/>
                    <show id="lecm-rpeditor:reportTemplateType"/>
                    <show id="lecm-rpeditor:reportTemplateFile"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-rpeditor:reportTemplateType">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_отчета</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:reportTemplateFile">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-uploader-control.ftl">
                            <control-param name="uploadDirectoryPath">{usertemp}</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="copy-to-dictionaries">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportTemplateType" />
                    <show id="lecm-rpeditor:reportTemplateFile" />
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportTemplateType">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden-association-control.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:reportTemplateFile">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden-association-control.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportTemplate">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:templateCode"/>
                    <show id="lecm-rpeditor:reportTemplateType"/>
                    <show id="lecm-rpeditor:reportTemplateFile"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportTemplateType">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_отчета</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:reportTemplateFile">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-uploader-control.ftl">
                            <control-param name="uploadDirectoryPath">{usertemp}</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="uploadTemplate">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:templateCode"/>
                    <show id="lecm-rpeditor:reportTemplateType"/>
                    <show id="lecm-rpeditor:reportTemplateFile"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-rpeditor:reportTemplateType">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_отчета</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:reportTemplateFile">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-uploader-control.ftl">
                            <control-param name="uploadDirectoryPath">{usertemp}</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="createFromDataSource">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:templateCode"/>
                    <show id="lecm-rpeditor:reportTemplateType"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-rpeditor:reportTemplateType">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_отчета</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:templateCode"/>
                    <show id="lecm-rpeditor:reportTemplateType"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportTypeCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportTypeCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportProvider">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportProviderClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportProvider">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportProviderCode"/>
                    <show id="lecm-rpeditor:reportProviderClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:reportProviderCode">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportProviderCode"/>
                    <show id="lecm-rpeditor:reportProviderClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportColumnType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportColumnTypeCode"/>
                    <show id="lecm-rpeditor:reportColumnTypeClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportColumnType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportColumnTypeCode"/>
                    <show id="lecm-rpeditor:reportColumnTypeClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportColumnTypeCode"/>
                    <show id="lecm-rpeditor:reportColumnTypeClass"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportParameterType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportParameterTypeCode"/>
                    <show id="lecm-rpeditor:reportParameterTypeLabel1"/>
                    <show id="lecm-rpeditor:reportParameterTypeLabel2"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportParameterType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportParameterTypeCode"/>
                    <show id="lecm-rpeditor:reportParameterTypeLabel1"/>
                    <show id="lecm-rpeditor:reportParameterTypeLabel2"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:reportParameterTypeCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportDataSource">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataSourceCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:dataSourceCode">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportDataSource">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataSourceCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                    <field id="lecm-rpeditor:dataSourceCode">
                        <control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
                        <constraint-handlers>
                            <constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataSourceCode"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-rpeditor:reportDataColumn">
        <forms>
            <form>
                <view-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:columnTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnExpression"/>
                    <show id="lecm-rpeditor:columnParameterTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnClass"/>
                    <show id="lecm-rpeditor:dataColumnOrder"/>
                    <show id="lecm-rpeditor:dataColumnMandatory"/>
                    <show id="lecm-rpeditor:dataColumnControlParams"/>
                    <show id="change-param-type-listener"/>
                </field-visibility>
                <appearance>
                    <set id="settings" appearance="" label-id="report-column.settings" />
                    <set id="parameter" appearance="" label-id="report-column.parameter" />

                    <field id="change-param-type-listener" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
                            <control-param name="scripts">scripts/lecm-reports-editor/change-param-type-listener.js</control-param>
                        </control>
                    </field>

                    <field id="cm:name" label-id="label.report.displayName" set="settings"/>
                    <field id="lecm-rpeditor:dataColumnCode" set="settings"/>
                    <field id="lecm-rpeditor:columnTypeAssoc" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_столбцов</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">false</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnExpression" mandatory="true" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:dataColumnControlParams" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:columnParameterTypeAssoc" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_параметра</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeParamType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnClass" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscriptType">server</control-param>
                            <control-param name="webscript">lecm/base/types</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnOrder" set="parameter" help-id="column.order.help"/>
                    <field id="lecm-rpeditor:dataColumnMandatory" set="parameter"/>
                </appearance>
            </form>
            <form id="sql-provider-column">
                <view-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:columnTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnExpression"/>
                    <show id="lecm-rpeditor:columnParameterTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnClass"/>
                    <show id="lecm-rpeditor:dataColumnOrder"/>
                    <show id="lecm-rpeditor:dataColumnMandatory"/>
                    <show id="lecm-rpeditor:dataColumnControlParams"/>
                    <show id="change-param-type-listener"/>
                </field-visibility>
                <appearance>
                    <set id="settings" appearance="" label-id="report-column.settings" />
                    <set id="parameter" appearance="" label-id="report-column.parameter" />

                    <field id="change-param-type-listener" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
                            <control-param name="scripts">scripts/lecm-reports-editor/change-param-type-listener.js</control-param>
                        </control>
                    </field>

                    <field id="cm:name" label-id="label.report.displayName" set="settings"/>
                    <field id="lecm-rpeditor:dataColumnCode" set="settings"/>
                    <field id="lecm-rpeditor:columnTypeAssoc" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_столбцов</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">false</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnExpression" mandatory="false" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:columnParameterTypeAssoc" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_параметра</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeParamType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnClass" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscriptType">server</control-param>
                            <control-param name="webscript">lecm/base/types</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnOrder" set="parameter"  help-id="column.order.help"/>
                    <field id="lecm-rpeditor:dataColumnMandatory" set="parameter"/>
                    <field id="lecm-rpeditor:dataColumnControlParams" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-rpeditor:reportDataColumn">
        <forms>
            <form>
                <create-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:columnTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnExpression"/>
                    <show id="lecm-rpeditor:columnParameterTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnClass"/>
                    <show id="lecm-rpeditor:dataColumnOrder"/>
                    <show id="lecm-rpeditor:dataColumnMandatory"/>
                    <show id="lecm-rpeditor:dataColumnControlParams"/>
                    <show id="change-param-type-listener"/>
                </field-visibility>
                <appearance>
                    <set id="settings" appearance="" label-id="report-column.settings" />
                    <set id="parameter" appearance="" label-id="report-column.parameter" />

                    <field id="change-param-type-listener" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
                            <control-param name="scripts">scripts/lecm-reports-editor/change-param-type-listener.js</control-param>
                        </control>
                    </field>

                    <field id="cm:name" label-id="label.report.displayName" set="settings"/>
                    <field id="lecm-rpeditor:dataColumnCode" set="settings"/>
                    <field id="lecm-rpeditor:columnTypeAssoc" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_столбцов</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">false</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnExpression" set="settings" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-rpeditor:columnParameterTypeAssoc" set="parameter" >
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_параметра</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeParamType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnClass" set="parameter" >
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscriptType">server</control-param>
                            <control-param name="webscript">lecm/base/types</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnOrder" set="parameter" help-id="column.order.help"/>
                    <field id="lecm-rpeditor:dataColumnMandatory" set="parameter"/>
                    <field id="lecm-rpeditor:dataColumnControlParams" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="short-datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:dataColumnExpression"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
            <form id="sql-provider-column">
                <create-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:columnTypeAssoc"/>
                    <show id="lecm-rpeditor:columnParameterTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnClass"/>
                    <show id="lecm-rpeditor:dataColumnOrder"/>
                    <show id="lecm-rpeditor:dataColumnMandatory"/>
                    <show id="lecm-rpeditor:dataColumnControlParams"/>
                    <show id="change-param-type-listener"/>
                </field-visibility>
                <appearance>
                    <set id="settings" appearance="" label-id="report-column.settings" />
                    <set id="parameter" appearance="" label-id="report-column.parameter" />

                    <field id="change-param-type-listener" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
                            <control-param name="scripts">scripts/lecm-reports-editor/change-param-type-listener.js</control-param>
                        </control>
                    </field>

                    <field id="cm:name" label-id="label.report.displayName" set="settings"/>
                    <field id="lecm-rpeditor:dataColumnCode" set="settings"/>
                    <field id="lecm-rpeditor:columnTypeAssoc" set="settings">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_столбцов</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">false</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:columnParameterTypeAssoc" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
                            <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Редактор_x0020_Отчетов/cm:Справочники/lecm-dic:Тип_x0020_параметра</control-param>
                            <control-param name="nameSubstituteString">{cm:name}</control-param>
                            <control-param name="notSelectedOptionShow">true</control-param>
                            <control-param name="notSelectedOptionLabel"> </control-param>
                            <control-param name="showCreateNewButton">false</control-param>
                            <control-param name="changeItemsFireAction">changeParamType</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnClass" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscriptType">server</control-param>
                            <control-param name="webscript">lecm/base/types</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-rpeditor:dataColumnOrder" set="parameter" help-id="column.order.help"/>
                    <field id="lecm-rpeditor:dataColumnMandatory" set="parameter"/>
                    <field id="lecm-rpeditor:dataColumnControlParams" set="parameter">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-rpeditor:dataColumnCode"/>
                    <show id="lecm-rpeditor:columnTypeAssoc"/>
                    <show id="lecm-rpeditor:dataColumnExpression"/>
                    <show id="lecm-rpeditor:columnParameterTypeAssoc"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name" label-id="label.report.displayName"/>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="aspect" condition="lecm-rpeditor:reportExtFlagsAspect">
        <forms>
            <form>
                <field-visibility>
                    <!--<show id="lecm-rpeditor:reportExtFlags" for-mode="edit"/>-->
                </field-visibility>
                <appearance>
                    <field id="lecm-rpeditor:reportExtFlags">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="subReport">
                <field-visibility>
                    <!--<show id="lecm-rpeditor:reportExtFlags" for-mode="edit"/>-->
                </field-visibility>
                <appearance>
                    <field id="lecm-rpeditor:reportExtFlags">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

</alfresco-config>