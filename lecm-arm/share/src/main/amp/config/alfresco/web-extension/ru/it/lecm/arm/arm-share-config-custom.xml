<alfresco-config>
    <config>
		<forms>
            <default-controls>
                <type name="association:lecm-arm:filter" template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
                    <control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_АРМ/lecm-dic:Фильтры_x0020_АРМ</control-param>
                    <control-param name="nameSubstituteString">{cm:name}</control-param>
                    <control-param name="showCreateNewLink">false</control-param>
                    <control-param name="showCreateNewButton">false</control-param>
                    <control-param name="showViewIncompleteWarning">false</control-param>
                </type>
            </default-controls>

			<dependencies>
				<js src="/scripts/lecm-arm/controls/arm-settings-fields-control.js"/>
				<js src="/scripts/lecm-arm/constraints/arm-statuses-child-rule-validator.js"/>
			</dependencies>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:arm">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:code" force="true"/>
					<show id="lecm-arm:show-calendar" force="true"/>
					<show id="lecm-arm:show-create-button"/>
					<show id="lecm-arm:show-in-menu" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:menu-business-roles-assoc" force="true"/>
				</field-visibility>
				<appearance>
					<set id="base"/>
					<set id="menu-config" appearance="panel" label-id="label.arm.menu.config"/>

					<field id="cm:name" set="base"/>
					<field id="lecm-arm:code" set="base">
						<control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
						<constraint-handlers>
							<constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
						</constraint-handlers>
					</field>
					<field id="lecm-arm:show-calendar" set="base"/>
					<field id="lecm-arm:show-create-button" set="base"/>

					<field id="lecm-arm:show-in-menu" set="menu-config"/>
					<field id="lecm-arm:order" set="menu-config"/>
					<field id="lecm-arm:menu-business-roles-assoc" set="menu-config">
						<control template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="showViewIncompleteWarning">false</control-param>
							<control-param name="additionalFilter">@lecm\\-orgstr\\:business\\-role\\-is\\-dynamic:\"false\"</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:arm">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:code" force="true"/>
					<show id="lecm-arm:show-calendar" force="true"/>
					<show id="lecm-arm:show-create-button"/>
					<show id="lecm-arm:show-in-menu"/>
					<show id="lecm-arm:order"/>
					<show id="lecm-arm:menu-business-roles-assoc"/>
				</field-visibility>
				<appearance>
					<set id="base"/>
					<set id="menu-config" appearance="bordered-panel" label-id="label.arm.menu.config"/>

					<field id="cm:name" set="base"/>
					<field id="lecm-arm:code" set="base">
						<control template="/ru/it/lecm/base-share/components/controls/unique.value.ftl"/>
						<constraint-handlers>
							<constraint type="LECMUNIQUE" validation-handler="LogicECM.validation.uniquenessValidation" event="keyup" />
						</constraint-handlers>
					</field>
					<field id="lecm-arm:show-calendar" set="base"/>
					<field id="lecm-arm:show-create-button" set="base"/>

					<field id="lecm-arm:show-in-menu" set="menu-config"/>
					<field id="lecm-arm:order" set="menu-config"/>
					<field id="lecm-arm:menu-business-roles-assoc" set="menu-config">
						<control template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Бизнес_x0020_роли</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="showViewIncompleteWarning">false</control-param>
							<control-param name="additionalFilter">@lecm\\-orgstr\\:business\\-role\\-is\\-dynamic:\"false\"</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:accordion">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:search-type" force="true"/>
					<show id="lecm-arm:fields-assoc" force="true"/>
					<show id="lecm-arm:filters-assoc" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
					<show id="lecm-arm:is-aggregation-node" force="true"/>
					<show id="lecm-arm:is-for-secretaries"/>
					<show id="lecm-arm:root-node-html-url"/>
					<show id="lecm-arm:children-structure-source-arm-assoc"/>
					<show id="lecm-arm:children-structure-source-node-assoc"/>
					<show id="lecm-base-dummy-aspects:script" force="true" />
				</field-visibility>
				<appearance>
					<set id="delegation-settings" template="/ru/it/lecm/ord/components/class-set.ftl"/>
					<field id="lecm-arm:search-query">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
					<field id="lecm-arm:search-type">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">lecm/documents/types</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:fields-assoc">
						<control template="/ru/it/lecm/arm/controls/arm-settings-fields-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:field-title} ({lecm-arm:field-name})</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:counter-enable">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:counter-limitation,lecm-arm:counter-description</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-aggregation-node">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfSelect">lecm-arm:search-query</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-for-secretaries">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="changeFireAction">armIsForSecretaryChanged</control-param>
						</control>
					</field>
					<field id="lecm-arm:root-node-html-url" label-id="label.accordion.delegation.html-url" set="delegation-settings"/>
					<field id="lecm-arm:children-structure-source-arm-assoc" label-id="label.accordion.delegation.structure-source-arm" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_АРМ/lecm-dic:Настройки_x0020_АРМ</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="notSelectedOptionShow">true</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="primaryCascading">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:children-structure-source-node-assoc" label-id="label.accordion.delegation.structure-source-node" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/association-cascading-select-one-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_АРМ/lecm-dic:Настройки_x0020_АРМ</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="notSelectedOptionShow">true</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="slaveCascading">true</control-param>
							<control-param name="dependentFieldName">lecm-arm:children-structure-source-arm-assoc</control-param>
							<control-param name="dependentFieldArgKey">armRef</control-param>
							<control-param name="webScriptUrl">lecm/arm/root-nodes/forDashlet</control-param>
							<control-param name="defaultLoadData">false</control-param>
						</control>
					</field>
					<field id="lecm-base-dummy-aspects:script" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
							<control-param name="scripts">scripts/lecm-arm/arm-delegation-fields-handler.js</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:accordion">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
                    <show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:search-type" force="true"/>
					<show id="lecm-arm:filters-assoc" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
					<show id="lecm-arm:is-aggregation-node" force="true"/>
					<show id="lecm-arm:is-for-secretaries"/>
					<show id="lecm-arm:root-node-html-url" />
					<show id="lecm-arm:children-structure-source-arm-assoc" />
					<show id="lecm-arm:children-structure-source-node-assoc"/>
					<show id="lecm-base-dummy-aspects:script" force="true" />
				</field-visibility>
				<appearance>
					<set id="delegation-settings" template="/ru/it/lecm/ord/components/class-set.ftl"/>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:search-query">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
					<field id="lecm-arm:search-type">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">lecm/documents/types</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:counter-enable">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:counter-limitation,lecm-arm:counter-description</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-aggregation-node">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfSelect">lecm-arm:search-query</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-for-secretaries">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="changeFireAction">armIsForSecretaryChanged</control-param>
						</control>
					</field>
					<field id="lecm-arm:root-node-html-url" label-id="label.accordion.delegation.html-url" set="delegation-settings"/>
					<field id="lecm-arm:children-structure-source-arm-assoc" label-id="label.accordion.delegation.structure-source-arm" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_АРМ/lecm-dic:Настройки_x0020_АРМ</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="notSelectedOptionShow">true</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="primaryCascading">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:children-structure-source-node-assoc" label-id="label.accordion.delegation.structure-source-node" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/association-cascading-select-one-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_АРМ/lecm-dic:Настройки_x0020_АРМ</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="notSelectedOptionShow">true</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="slaveCascading">true</control-param>
							<control-param name="dependentFieldName">lecm-arm:children-structure-source-arm-assoc</control-param>
							<control-param name="dependentFieldArgKey">armRef</control-param>
							<control-param name="webScriptUrl">lecm/arm/root-nodes/forDashlet</control-param>
							<control-param name="defaultLoadData">false</control-param>
						</control>
					</field>
					<field id="lecm-base-dummy-aspects:script" set="delegation-settings">
						<control template="/ru/it/lecm/base-share/components/controls/load-script-control.ftl">
							<control-param name="scripts">scripts/lecm-arm/arm-delegation-fields-handler.js</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
                    <show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:search-type" force="true"/>
					<show id="lecm-arm:fields-assoc" force="true"/>
					<show id="lecm-arm:filters-assoc" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:node-child-rule-assoc" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
					<show id="lecm-arm:is-aggregation-node" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:search-query">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
					<field id="lecm-arm:search-type">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">lecm/documents/types</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:fields-assoc">
						<control template="/ru/it/lecm/arm/controls/arm-settings-fields-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:field-title} ({lecm-arm:field-name})</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:counter-enable">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:counter-limitation,lecm-arm:counter-description</control-param>
						</control>
					</field>
					<field id="lecm-arm:node-child-rule-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:list-query-child-rule}{lecm-arm:child-rule-dictionary-assoc/cm:name}{lecm-arm:statuses-rule}{lecm-arm:xpath-child-rule-root-xpath}{lecm-arm:script-child-rule-root}</control-param>
							<control-param name="itemTypes">lecm-arm:query-child-rule,lecm-arm:dictionary-child-rule,lecm-arm:statuses-child-rule,lecm-arm:xpath-child-rule,lecm-arm:script-child-rule</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-aggregation-node">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfSelect">lecm-arm:search-query</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
                    <show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:search-query" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:search-type" force="true"/>
					<show id="lecm-arm:filters-assoc" force="true"/>
					<show id="lecm-arm:counter-enable" force="true"/>
					<show id="lecm-arm:counter-limitation" force="true"/>
					<show id="lecm-arm:counter-description" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
					<show id="lecm-arm:is-aggregation-node" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:search-query">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
					<field id="lecm-arm:search-type">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">lecm/documents/types</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-arm:counter-enable">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:counter-limitation,lecm-arm:counter-description</control-param>
						</control>
					</field>
					<field id="lecm-arm:is-aggregation-node">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="disabledFieldsIfSelect">lecm-arm:search-query</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:reports-node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:reportCodes" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
					<field id="lecm-arm:reportCodes">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/reports/rptmanager/allRegisteredReports?forCollection=true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:reports-node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:types" force="true"/>
					<show id="lecm-arm:reportCodes" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:types">
						<control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
							<control-param name="dataSource">lecm/arm/settings/types</control-param>
						</control>
					</field>
                    <field id="lecm-arm:reportCodes">
                        <control template="/ru/it/lecm/base-share/components/controls/select-types-control.ftl">
                            <control-param name="dataSource">lecm/reports/rptmanager/allRegisteredReports?forCollection=true</control-param>
                        </control>
                    </field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:html-node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:html-url" force="true"/>
					<show id="lecm-arm:node-child-rule-assoc" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
					<field id="lecm-arm:node-child-rule-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-create-control.ftl">
							<control-param name="nameSubstituteString">{lecm-arm:list-query-child-rule}{lecm-arm:child-rule-dictionary-assoc/cm:name}{lecm-arm:statuses-rule}{lecm-arm:xpath-child-rule-root-xpath}{lecm-arm:script-child-rule-root}</control-param>
							<control-param name="itemTypes">lecm-arm:query-child-rule,lecm-arm:dictionary-child-rule,lecm-arm:xpath-child-rule,lecm-arm:script-child-rule</control-param>
							<control-param name="fullDelete">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:html-node">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
					<show id="lecm-arm:order" force="true"/>
					<show id="lecm-arm:html-url" force="true"/>
					<show id="lecm-arm:expression" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:expression">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl"/>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:field">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:field-title" force="true"/>
					<show id="lecm-arm:field-name" force="true"/>
					<show id="lecm-arm:field-format-string" force="true"/>
					<show id="lecm-arm:field-sortable" force="true"/>
					<show id="lecm-arm:field-by-default" force="true"/>
					<show id="lecm-arm:field-is-marker" force="true"/>
					<show id="lecm-arm:field-marker-icon" force="true"/>
					<show id="lecm-arm:field-marker-html" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:field-is-marker">
						<control>
							<control-param name="hideFieldsIfNotSelect">lecm-arm:field-marker-icon,lecm-arm:field-marker-html</control-param>
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:field-marker-icon,lecm-arm:field-marker-html</control-param>
						</control>
					</field>
					<field id="lecm-arm:field-marker-icon">
						<control>
							<control-param name="containerStyleClass">hidden1</control-param>
						</control>
					</field>
					<field id="lecm-arm:field-marker-html">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
							<control-param name="rows">6</control-param>
							<control-param name="containerStyleClass">hidden1</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:field">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:field-title" force="true"/>
					<show id="lecm-arm:field-name" force="true"/>
					<show id="lecm-arm:field-format-string" force="true"/>
					<show id="lecm-arm:field-sortable" force="true"/>
					<show id="lecm-arm:field-by-default" force="true"/>
					<show id="lecm-arm:field-is-marker" force="true"/>
					<show id="lecm-arm:field-marker-icon" force="true"/>
					<show id="lecm-arm:field-marker-html" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:field-is-marker">
						<control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
							<control-param name="hideFieldsIfNotSelect">lecm-arm:field-marker-icon,lecm-arm:field-marker-html</control-param>
							<control-param name="disabledFieldsIfNotSelect">lecm-arm:field-marker-icon,lecm-arm:field-marker-html</control-param>
						</control>
					</field>
					<field id="lecm-arm:field-marker-icon">
						<control>
							<control-param name="containerStyleClass">hidden1</control-param>
						</control>
					</field>
					<field id="lecm-arm:field-marker-html">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
							<control-param name="rows">6</control-param>
							<control-param name="containerStyleClass">hidden1</control-param>
							<control-param name="defaultValue">
								<![CDATA[<div class="centered">
    <img src='{markerIcon}' width='16px' title='{title}'/>
</div>]]>
							</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:query-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:list-query-child-rule" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:query-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:list-query-child-rule" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:dictionary-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:child-rule-dictionary-assoc" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:dictionary-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:child-rule-dictionary-assoc" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:statuses-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:statuses-rule" force="true"/>
					<show id="lecm-arm:selected-statuses" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:statuses-rule" mandatory="true">
						<control template="/ru/it/lecm/base-share/components/controls/selectone.ftl"/>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.ARM.statusesChildRuleValidation" event="change"/>
						</constraint-handlers>
					</field>
					<field id="lecm-arm:selected-statuses">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
							<control-param name="rows">6</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:statuses-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:statuses-rule" force="true"/>
					<show id="lecm-arm:selected-statuses" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:statuses-rule" mandatory="true">
						<control template="/ru/it/lecm/base-share/components/controls/selectone.ftl"/>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.ARM.statusesChildRuleValidation" event="change"/>
						</constraint-handlers>
					</field>
					<field id="lecm-arm:selected-statuses">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
							<control-param name="rows">6</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:xpath-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:xpath-child-rule-root-xpath" force="true"/>
					<show id="lecm-arm:xpath-child-rule-types" force="true"/>
					<show id="lecm-arm:xpath-child-rule-filter" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:xpath-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:xpath-child-rule-root-xpath" force="true"/>
					<show id="lecm-arm:xpath-child-rule-types" force="true"/>
					<show id="lecm-arm:xpath-child-rule-filter" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-arm:script-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:script-child-rule-root" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:script-child-rule-root">
						<control template="/ru/it/lecm/base-share/components/controls/code-mirror-control.ftl">
							<control-param name="rows">30</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-arm:script-child-rule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-arm:script-child-rule-root" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-arm:script-child-rule-root">
						<control template="/ru/it/lecm/base-share/components/controls/code-mirror-control.ftl">
							<control-param name="rows">30</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

    <config evaluator="node-type" condition="lecm-arm:filter">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-arm:filter-code" force="true"/>
                    <show id="lecm-arm:filter-values" force="true"/>
                    <show id="lecm-arm:filter-multiple-select" force="true"/>
                    <!--<show id="lecm-arm:filter-class" force="true"/>-->
                    <show id="lecm-arm:filter-query" force="true"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-arm:filter">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-arm:filter-code" force="true"/>
                    <show id="lecm-arm:filter-values" force="true"/>
                    <show id="lecm-arm:filter-multiple-select" force="true"/>
                    <show id="lecm-arm:filter-class" force="true"/>
                    <show id="lecm-arm:filter-query" force="true"/>
                </field-visibility>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name" force="true"/>
                    <show id="lecm-arm:filter-code" force="true"/>
                    <show id="lecm-arm:filter-multiple-select" force="true"/>
                    <show id="lecm-arm:filter-class" force="true"/>
                </field-visibility>
            </form>
        </forms>
    </config>
</alfresco-config>