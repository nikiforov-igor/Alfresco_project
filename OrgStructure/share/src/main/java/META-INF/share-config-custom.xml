<alfresco-config>
    <config>
        <forms>
            <default-controls>
                <type name="association:lecm-orgstr:staff-list" template="/ru/it/lecm/orgstructure/controls/staffLists.ftl"/>
                <type name="association:lecm-orgstr:workforce" template="/ru/it/lecm/orgstructure/controls/workForces.ftl"/>
                <type name="association:lecm-orgstr:employee" template="/ru/it/lecm/base-share/components/associationControl.ftl">
                    <control-param name="xPathLocation">*[subtypeOf('lecm-orgstr:employees')]</control-param>
                    <control-param name="xPathLocationRoot">{organization}</control-param>
                    <control-param name="numberOfHiddenLayers">2</control-param>
                </type>
            </default-controls>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:employee">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-photo-assoc"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                    <show id="lecm-orgstr:employee-fio-g"/>
                    <show id="lecm-orgstr:employee-fio-d"/>
                    <show id="lecm-orgstr:employee-is-system-user"/>
                    <show id="lecm-orgstr:employee-person-assoc"/>
                    <show id="lecm-orgstr:employee-person-data-assoc"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employee">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- чтобы иметь возможность сохранить с требуемым именем-->
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-photo-assoc"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                    <show id="lecm-orgstr:employee-fio-g"/>
                    <show id="lecm-orgstr:employee-fio-d"/>
                    <show id="lecm-orgstr:employee-is-system-user"/>
                    <show id="lecm-orgstr:employee-person-assoc"/>
                    <show id="lecm-orgstr:employee-person-data-assoc"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-email"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:employee-first-name"/>
                    <show id="lecm-orgstr:employee-middle-name"/>
                    <show id="lecm-orgstr:employee-last-name"/>
                    <show id="lecm-orgstr:employee-sex"/>
                    <show id="lecm-orgstr:employee-email"/>
                    <show id="lecm-orgstr:employee-phone"/>
                    <show id="lecm-orgstr:employee-number"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:employee-sex">
                        <control template="/ru/it/lecm/base-share/components/select-one-with-empty.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:organization">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:org-leg-address"/>
                    <show id="lecm-orgstr:org-act-address"/>
                    <show id="lecm-orgstr:org-off-site"/>
                    <show id="lecm-orgstr:org-phone"/>
                    <show id="lecm-orgstr:org-fax"/>
                    <show id="lecm-orgstr:org-email"/>
                    <show id="lecm-orgstr:org-logo-assoc"/>
                    <show id="lecm-orgstr:org-tin"/>
                    <show id="lecm-orgstr:org-ownership-type"/>
                    <show id="lecm-orgstr:org-incorporation-form"/>
                    <show id="lecm-orgstr:org-founding-docs"/>
                    <show id="lecm-orgstr:org-boss-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:organization">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:org-leg-address"/>
                    <show id="lecm-orgstr:org-act-address"/>
                    <show id="lecm-orgstr:org-off-site"/>
                    <show id="lecm-orgstr:org-phone"/>
                    <show id="lecm-orgstr:org-fax"/>
                    <show id="lecm-orgstr:org-email"/>
                    <show id="lecm-orgstr:org-logo-assoc"/>
                    <show id="lecm-orgstr:org-tin"/>
                    <show id="lecm-orgstr:org-ownership-type"/>
                    <show id="lecm-orgstr:org-incorporation-form"/>
                    <show id="lecm-orgstr:org-founding-docs"/>
                    <show id="lecm-orgstr:org-boss-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:organization-unit">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                    <show id="cm:contains"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:organization-unit">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- для того, чтобы сохранить под требуемым именем-->
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:unit-code"/>
                    <show id="lecm-orgstr:unit-type"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:unit-type">
                        <control template="/ru/it/lecm/base-share/components/select-one-with-empty.ftl"/>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:position">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                    <show id="lecm-orgstr:position-name-g"/>
                    <show id="lecm-orgstr:position-name-d"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:position">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                    <show id="lecm-orgstr:position-name-g"/>
                    <show id="lecm-orgstr:position-name-d"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:position-code"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:office">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:office-short-name"/>
                    <show id="lecm-orgstr:office-phone"/>
                    <show id="lecm-orgstr:office-fax"/>
                    <show id="lecm-orgstr:office-address"/>
                    <show id="lecm-orgstr:office-transit-scheme"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:office">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:office-short-name"/>
                    <show id="lecm-orgstr:office-phone"/>
                    <show id="lecm-orgstr:office-fax"/>
                    <show id="lecm-orgstr:office-address"/>
                    <show id="lecm-orgstr:office-transit-scheme"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:personal-data">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:person-data-address"/>
                    <show id="lecm-orgstr:person-data-email"/>
                    <show id="lecm-orgstr:person-data-phone"/>
                    <show id="lecm-orgstr:person-data-date"/>
                    <show id="lecm-orgstr:person-data-service-id"/>
                    <show id="lecm-orgstr:person-data-docType-assoc"/>
                    <show id="lecm-orgstr:person-data-doc-series"/>
                    <show id="lecm-orgstr:person-data-doc-number"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:personal-data">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:person-data-address"/>
                    <show id="lecm-orgstr:person-data-email"/>
                    <show id="lecm-orgstr:person-data-phone"/>
                    <show id="lecm-orgstr:person-data-date"/>
                    <show id="lecm-orgstr:person-data-service-id"/>
                    <show id="lecm-orgstr:person-data-docType-assoc"/>
                    <show id="lecm-orgstr:person-data-doc-series"/>
                    <show id="lecm-orgstr:person-data-doc-number"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workGroup">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:workGroup-description"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="cm:contains"/>
                    <show id="lecm-dic:active"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workGroup">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <!-- Для сохранения с иным именем-->
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                    <show id="lecm-orgstr:workGroup-description"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-full-name"/>
                    <show id="lecm-orgstr:element-short-name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workforce">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:workforce-role-assoc"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:workforce-comment">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Роли_x0020_для_x0020_рабочих_x0020_групп</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
                            <control-param name="refillable">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workforce">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:workforce-comment"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:workforce-comment">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Роли_x0020_для_x0020_рабочих_x0020_групп</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
                            <control-param name="refillable">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:staff-list">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Должностные_x0020_позиции</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
                            <control-param name="refillable">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:staff-list">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
                <appearance>
                    <field id="cm:name">
                        <control template="/org/alfresco/components/form/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-orgstr:element-member-position-assoc">
                        <control template="/ru/it/lecm/base-share/components/association-autocomplete-control.ftl">
                            <control-param name="startLocation">/app:company_home/lecm-dic:Dictionary/lecm-dic:Должностные_x0020_позиции</control-param>
                            <control-param name="bigItemIcon">components/images/filetypes/generic-site-32.png</control-param>
                            <control-param name="smallItemIcon">components/images/filetypes/generic-site-16.png</control-param>
                            <control-param name="refillable">false</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="datagrid">
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="lecm-orgstr:element-member-position-assoc"/>
                    <show id="lecm-orgstr:element-member-employee-assoc"/>
                    <show id="lecm-orgstr:staff-list-is-boss"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:employees">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employees">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:structure">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:structure">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <!--    <config evaluator="node-type" condition="lecm-orgstr:project-roles">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:project-roles">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>-->

    <config evaluator="node-type" condition="lecm-orgstr-roles:role">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr-roles:role-description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr-roles:role-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr-roles:role">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr-roles:role-description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-orgstr-roles:role-description">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="search">
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:staffPosition">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:staffPosition-name-g"/>
                    <show id="lecm-orgstr:staffPosition-name-d"/>
                    <show id="lecm-orgstr:staffPosition-code"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:staffPosition">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:staffPosition-name-g"/>
                    <show id="lecm-orgstr:staffPosition-name-d"/>
                    <show id="lecm-orgstr:staffPosition-code"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:workRole">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:workRole-description"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:workRole">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-orgstr:workRole-description"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr-docType:documentType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr-docType:documentType">
        <forms>
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-orgstr:employee-link">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:employee-link-is-primary"/>
                    <show id="lecm-orgstr:employee-link-employee-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-orgstr:employee-link">
        <forms>
            <form>
                <field-visibility>
                    <show id="lecm-orgstr:employee-link-is-primary"/>
                    <show id="lecm-orgstr:employee-link-employee-assoc"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="string-compare" condition="AdvancedSearch">
        <advanced-search>
            <forms>
                <form>lecm-orgstr:project</form>
                <form>lecm-orgstr:organization-unit</form>
                <form>lecm-orgstr:employee</form>
            </forms>
        </advanced-search>
    </config>
</alfresco-config>