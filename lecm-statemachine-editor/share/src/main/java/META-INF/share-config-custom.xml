<alfresco-config>

	<config evaluator="node-type" condition="lecm-stmeditor:status">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
				</field-visibility>
				<appearance>
					<field id="cm:name"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-stmeditor:status">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
				</field-visibility>
				<appearance>
					<field id="cm:name"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:StartWorkflow">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:workflowId" force="true"/>
					<show id="lecm-stmeditor:assignee" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:workflowId">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:assignee"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:FinishStateWithTransition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitions" force="true"/>
					<show id="lecm-stmeditor:transitionVariable" force="true"/>
					<show id="lecm-stmeditor:userTransition" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflow" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionVariable"/>
					<field id="lecm-stmeditor:transitions">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:transition</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:userTransition">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:userTransition</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:transitionWorkflow">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:transitionWorkflow</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:userTransition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:userTransitionLabel" force="true"/>
					<show id="lecm-stmeditor:userTransitionVariableValue" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:userTransitionLabel"/>
					<field id="lecm-stmeditor:userTransitionVariableValue" />
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-stmeditor:userTransition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:userTransitionLabel" force="true"/>
					<show id="lecm-stmeditor:userTransitionVariableValue" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:userTransitionLabel"/>
					<field id="lecm-stmeditor:userTransitionVariableValue" />
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-stmeditor:transitionWorkflow">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitionWorkflowLabel" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowId" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowVariableValue" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionWorkflowLabel" />
					<field id="lecm-stmeditor:transitionWorkflowId">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:transitionWorkflowVariableValue" />
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-stmeditor:transitionWorkflowLabel" force="true"/>
				</field-visibility>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:transitionWorkflow">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitionWorkflowLabel" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowId" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowVariableValue" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowInputVariable" force="true"/>
					<show id="lecm-stmeditor:transitionWorkflowInputVariableValue" force="true"/>
					<show id="lecm-stmeditor:outputWorkflowVariableData" force="true"/>
					<show id="lecm-stmeditor:outputWorkflowVariableValueData" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionWorkflowLabel" />
					<field id="lecm-stmeditor:transitionWorkflowId">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:transitionWorkflowVariableValue" />
					<field id="lecm-stmeditor:transitionWorkflowInputVariable">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:inputWorkflowVariableData</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:transitionWorkflowInputVariableValue">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:inputWorkflowVariableValueData</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:outputWorkflowVariableData">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:inputWorkflowVariableData</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:outputWorkflowVariableValueData">
						<control template="/ru/it/lecm/base-share/components/datagrid-control.ftl">
							<control-param name="itemType">lecm-stmeditor:inputWorkflowVariableData</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>


	<config evaluator="model-type" condition="lecm-stmeditor:transition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitionExpression" force="true"/>
					<show id="lecm-stmeditor:transitionStatus" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionExpression" />
					<field id="lecm-stmeditor:transitionStatus">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">/lecm/statemachine/editor/status</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:transition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitionExpression" force="true"/>
					<show id="lecm-stmeditor:transitionStatus" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionExpression" />
					<field id="lecm-stmeditor:transitionStatus">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">/lecm/statemachine/editor/status</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:statemachine">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:machineFolder" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:machineFolder"/>
				</appearance>
			</form>
		</forms>
	</config>

</alfresco-config>
