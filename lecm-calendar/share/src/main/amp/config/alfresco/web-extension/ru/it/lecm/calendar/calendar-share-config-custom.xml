<?xml version='1.0' encoding='UTF-8'?>
<alfresco-config>
	<config>
		<forms>
			<default-controls>
				<type name="association:lecm-absence:reason"  template="/ru/it/lecm/base-share/components/controls/association-select-one-control.ftl">
						<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Причины_x0020_отсутствия</control-param>
						<control-param name="nameSubstituteString">{lecm-absence:code} - {cm:name}</control-param>
						<control-param name="showCreateNewButton">false</control-param>
				</type>
			</default-controls>
		</forms>
	</config>
	<!--Список годов-->
	<config evaluator="model-type" condition="lecm-cal:calendar">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-cal:year"/>
					<show id="lecm-cal:comment"/>
				</field-visibility>
			</form>
			<form id="createNewYearForm">
				<field-visibility>
					<show id="lecm-cal:year"/>
					<show id="lecm-cal:comment"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-cal:calendar">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-cal:comment"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<!--Рабочие дни-->
	<config evaluator="model-type" condition="lecm-cal:working-days">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-cal:day"/>
					<show id="lecm-cal:reason"/>
				</field-visibility>
			</form>
			<form id="createNewSpecialDayForm">
				<field-visibility>
					<show id="lecm-cal:day"/>
					<show id="lecm-cal:reason"/>
				</field-visibility>
				<appearance>
					<field id="lecm-cal:day"  mandatory="true">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="currentValueArg">initialDate</control-param>
							<control-param name="maxLimitArg">maxLimitDate</control-param>
							<control-param name="minLimitArg">minLimitDate</control-param>
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">8em</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" event="propertychange" validation-handler="LogicECM.module.WCalendar.Calendar.SpecialDays.dayExistenceValidation" message-id="lecm.calendar.same.date"/>
						</constraint-handlers>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-cal:working-days">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-cal:reason"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<!--Выходные дни-->
	<config evaluator="model-type" condition="lecm-cal:non-working-days">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-cal:day"/>
					<show id="lecm-cal:reason"/>
				</field-visibility>
			</form>
			<form id="createNewSpecialDayForm">
				<field-visibility>
					<show id="lecm-cal:day"/>
					<show id="lecm-cal:reason"/>
				</field-visibility>
				<appearance>
					<field id="lecm-cal:day"  mandatory="true">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="currentValueArg">initialDate</control-param>
							<control-param name="maxLimitArg">maxLimitDate</control-param>
							<control-param name="minLimitArg">minLimitDate</control-param>
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">8em</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" event="propertychange" validation-handler="LogicECM.module.WCalendar.Calendar.SpecialDays.dayExistenceValidation" message-id="lecm.calendar.same.date"/>
						</constraint-handlers>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-cal:non-working-days">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-cal:reason"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-sched:schedule">
		<forms>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-sched:sched-employee-link-assoc"/>
					<show id="lecm-sched:std-begin"/>
					<show id="lecm-sched:std-end"/>
					<show id="lecm-sched:type"/>
				</field-visibility>
			</form>
			<form id="createNewCommonScheduleForm">
				<field-visibility>
					<show id="lecm-sched:sched-employee-link-assoc"/>
					<show id="lecm-sched:std-begin"/>
					<show id="lecm-sched:std-end"/>
					<show id="lecm-sched:type"/>
				</field-visibility>
				<appearance>
					<set id="time" template="/org/alfresco/components/form/2-column-set.ftl" appearance="title" label-id="label.schedule.form.set.work-time" />
					<field id="lecm-sched:std-begin" mandatory="true" set="time">
						<control template="/ru/it/lecm/base-share/components/controls/time-picker.ftl">
							<control-param name="style">position: relative;</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.timeValidation"
										event="keyup" message-id="message.time-format.error" />
						</constraint-handlers>
					</field>
					<field id="lecm-sched:std-end" mandatory="true" set="time">
						<control template="/ru/it/lecm/base-share/components/controls/time-picker.ftl">
							<control-param name="style">position: relative;</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.timeValidation"
										event="keyup" message-id="message.time-format.error" />
						</constraint-handlers>
					</field>
					<field id="lecm-sched:sched-employee-link-assoc" mandatory="true">
						<control template="/ru/it/lecm/base-share/components/controls/double-association-tree-picker.ftl">
							<control-param name="firstItemType">lecm-orgstr:employee</control-param>
							<control-param name="firstRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="firstNameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
							<control-param name="firstPlane">true</control-param>
							<control-param name="firstShowSearch">true</control-param>
							<control-param name="firstPickerButtonLabel"><![CDATA[<i class='icon-male'></i>]]></control-param>
							<control-param name="firstPickerButtonTitleCode">title.employee.select</control-param>
							<control-param name="firstUseStrictFilterByOrg">true</control-param>
																					<control-param name="secondItemType">lecm-orgstr:organization-unit</control-param>
							<control-param name="secondRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Структура/cm:Холдинг</control-param>
							<control-param name="secondNameSubstituteString">{lecm-orgstr:element-short-name}</control-param>
							<control-param name="secondTreeNodeSubstituteString">{lecm-orgstr:element-short-name}</control-param>
							<control-param name="secondTreeNodeTitleSubstituteString">{cm:name}</control-param>
							<control-param name="secondPlane">false</control-param>
							<control-param name="secondIgnoreNodesInTreeView">false</control-param>
							<control-param name="secondShowSearch">true</control-param>
							<control-param name="secondPickerButtonLabel"><![CDATA[<i class='icon-building'></i>]]></control-param>
							<control-param name="secondPickerButtonTitleCode">title.organizationUnit.select</control-param>
							<control-param name="secondSortProp">lecm-orgstr:element-short-name</control-param>
						</control>
					</field>
					<field id="lecm-sched:type">
						<control template="/ru/it/lecm/base-share/components/controls/hidden-value.ftl">
							<control-param name="fieldValue">COMMON</control-param>
						</control>
					</field>
				</appearance>
			</form>
			<form id="createNewSpecialScheduleForm">
				<field-visibility>
					<show id="lecm-sched:sched-employee-link-assoc"/>
					<show id="lecm-sched:time-limit-start"/>
					<show id="lecm-sched:time-limit-end"/>
					<show id="lecm-base-dummy-aspects:script" force="true"/>
					<show id="lecm-sched:std-begin"/>
					<show id="lecm-sched:std-end"/>
					<show id="lecm-sched:type"/>
				</field-visibility>
				<appearance>
					<set id="time-limit" template="/ru/it/lecm/wcalendar/controls/2-column-set-augmented.ftl" appearance="title" label-id="label.schedule.form.set.date-interval" minimizeSetWidth="true" />
					<set id="reiteration-rules"  appearance="title" label-id="label.schedule.form.reiteration-rules" />
					<set id="time" template="/org/alfresco/components/form/2-column-set.ftl" appearance="title" label-id="label.schedule.form.set.work-time" />
					<field id="lecm-sched:sched-employee-link-assoc" mandatory="true">
						<control template="/ru/it/lecm/base-share/components/controls/double-association-tree-picker.ftl">
							<control-param name="firstItemType">lecm-orgstr:employee</control-param>
							<control-param name="firstRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="firstNameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
							<control-param name="firstPlane">true</control-param>
							<control-param name="firstShowSearch">true</control-param>
							<control-param name="firstPickerButtonLabel"><![CDATA[<i class='icon-male'></i>]]></control-param>
							<control-param name="firstPickerButtonTitleCode">title.employee.select</control-param>
							<control-param name="firstUseStrictFilterByOrg">true</control-param>
																					<control-param name="secondItemType">lecm-orgstr:organization-unit</control-param>
							<control-param name="secondRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Структура/cm:Холдинг</control-param>
							<control-param name="secondNameSubstituteString">{lecm-orgstr:element-short-name}</control-param>
							<control-param name="secondTreeNodeSubstituteString">{lecm-orgstr:element-short-name}</control-param>
							<control-param name="secondTreeNodeTitleSubstituteString">{cm:name}</control-param>
							<control-param name="secondPlane">false</control-param>
							<control-param name="secondShowSearch">true</control-param>
							<control-param name="secondPickerButtonLabel"><![CDATA[<i class='icon-building'></i>]]></control-param>
							<control-param name="secondPickerButtonTitleCode">title.organizationUnit.select</control-param>
							<control-param name="secondSortProp">lecm-orgstr:element-short-name</control-param>
						</control>
					</field>
					<field id="lecm-sched:std-begin" mandatory="true" set="time">
						<control template="/ru/it/lecm/base-share/components/controls/time-picker.ftl">
							<control-param name="style">position: relative;</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.timeValidation"
										event="keyup" message-id="message.time-format.error" />
						</constraint-handlers>
					</field>
					<field id="lecm-sched:std-end" mandatory="true" set="time">
						<control template="/ru/it/lecm/base-share/components/controls/time-picker.ftl">
							<control-param name="style">position: relative;</control-param>
						</control>
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.timeValidation"
										event="keyup" message-id="message.time-format.error" />
						</constraint-handlers>
					</field>
					<field id="lecm-sched:type">
						<control template="/ru/it/lecm/base-share/components/controls/hidden-value.ftl">
							<control-param name="fieldValue">SPECIAL</control-param>
						</control>
					</field>
					<field id="lecm-sched:time-limit-start" label-id="label.schedule.form.set.date-interval.begin" mandatory="true" set="time-limit">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">8em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Schedule.scheduleLimitValidation</control-param>
							<control-param name="messageText">LogicECM.module.WCalendar.Schedule.scheduleLimitValidation.message</control-param>
						<control-param name="hideDateFormat">true</control-param>
						</control>
						<!-- <constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.scheduleLimitValidation"
										event="keyup" message-id="message.error.schedule.schedule-date-limit-validation.early-end" />
						</constraint-handlers> -->
					</field>
					<field id="lecm-sched:time-limit-end" label-id="label.schedule.form.set.date-interval.end" mandatory="true" set="time-limit">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">8em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Schedule.scheduleLimitValidation</control-param>
							<control-param name="messageText">LogicECM.module.WCalendar.Schedule.scheduleLimitValidation.message</control-param>
						<control-param name="hideDateFormat">true</control-param>
						</control>
						<!-- <constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Schedule.scheduleLimitValidation"
										event="keyup" message-id="message.error.schedule.schedule-date-limit-validation.early-end" />
						</constraint-handlers> -->
					</field>
					<field id="lecm-base-dummy-aspects:script" label-id="label.schedule.form.reiteration-rules" mandatory="true" set="reiteration-rules">
						<control template="/ru/it/lecm/wcalendar/controls/reiteration-rules-control.ftl"/>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-sched:schedule">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-sched:sched-employee-link-assoc"/>
					<show id="lecm-sched:type"/>
					<show id="lecm-sched:std-begin"/>
					<show id="lecm-sched:std-end"/>
					<show id="lecm-sched:time-limit-start"/>
					<show id="lecm-sched:time-limit-end"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-absence:absence">
		<forms>
			<form id="absenceProfileDatagrid">
				<field-visibility>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:comment"/>
					<show id="lecm-absence:abscence-reason-assoc"/>
				</field-visibility>
			</form>
			<form id="absenceAdminDatagrid">
				<field-visibility>
					<show id="lecm-absence:activated"/>
					<show id="lecm-absence:abscent-employee-assoc"/>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:comment"/>
					<show id="lecm-absence:abscence-reason-assoc"/>
				</field-visibility>
			</form>
			<form id="createNewEmployeeAbsenceForm">
				<field-visibility>
					<show id="lecm-absence:abscent-employee-assoc"/>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:comment"/>
					<show id="lecm-absence:abscence-reason-assoc"/>
				</field-visibility>
				<appearance>
					<set id="dates" template="/ru/it/lecm/wcalendar/controls/2-column-set-augmented.ftl" appearance="title" label-id="label.absence.form.set.date-interval" />
					<set id="unlimited"/>
					<set id="abscence-reason"/>
					<set id="comment"/>
					<field id="lecm-absence:abscent-employee-assoc">
						<control template="/ru/it/lecm/base-share/components/controls/association-autocomplete-control.ftl">
							<control-param name="startLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
							<control-param name="showCreateNewLink">false</control-param>
							<control-param name="showCreateNewButton">false</control-param>
							<control-param name="nameSubstituteString">{cm:name}</control-param>
							<control-param name="employeeAbsenceMarker">true</control-param>
							<control-param name="useStrictFilterByOrg">true</control-param>
						</control>
					</field>
					<field id="lecm-absence:begin" mandatory="true" set="dates">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">6em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation</control-param>
							<control-param name="messageHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation.message</control-param>
						</control>
					</field>
					<field id="lecm-absence:end" mandatory="true" set="dates">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">6em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation</control-param>
							<control-param name="messageHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation.message</control-param>
						</control>
					</field>
					<field id="lecm-absence:unlimited" set="unlimited">
						<control template="/ru/it/lecm/wcalendar/controls/checkbox-disabling-field.ftl"/>
					</field>
					<field id="lecm-absence:abscence-reason-assoc" set="abscence-reason">
						<control>
							<control-param name="showCreateNewButton">true</control-param>
						</control>
					</field>
					<field id="lecm-absence:comment" set="comment"/>
				</appearance>
			</form>
			<form id="createNewMyAbsenceForm">
				<field-visibility>
					<show id="lecm-absence:abscent-employee-assoc"/>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:comment"/>
					<show id="lecm-absence:abscence-reason-assoc"/>
				</field-visibility>
				<appearance>
					<set id="dates" template="/ru/it/lecm/wcalendar/controls/2-column-set-augmented.ftl" appearance="title" label-id="label.absence.form.set.date-interval" />
					<set id="unlimited"/>
					<set id="abscence-reason"/>
					<set id="comment"/>
					<field id="lecm-absence:abscent-employee-assoc" >
						<control template="/ru/it/lecm/wcalendar/controls/hidden-current-employee.ftl"/>
					</field>
					<field id="lecm-absence:begin" set="dates">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">6em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation</control-param>
							<control-param name="messageHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation.message</control-param>
							<control-param name="dateDefault">TOMORROW</control-param>
						</control>
					</field>
					<field id="lecm-absence:end" mandatory="true" set="dates">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">6em</control-param>
							<control-param name="validateHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation</control-param>
							<control-param name="messageHandler">LogicECM.module.WCalendar.Absence.dateIntervalValidation.message</control-param>
							<control-param name="dateDefault">TOMORROW</control-param>
						</control>
					</field>
					<field id="lecm-absence:unlimited" set="unlimited">
						<control template="/ru/it/lecm/wcalendar/controls/checkbox-disabling-field.ftl"/>
					</field>
					<field id="lecm-absence:abscence-reason-assoc" set="abscence-reason"/>
					<field id="lecm-absence:comment" set="comment"/>
				</appearance>
			</form>
			<form id="createNewInstantAbsenceForm">
				<field-visibility>
					<show id="lecm-absence:abscent-employee-assoc"/>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:abscence-reason-assoc"/>
					<show id="lecm-absence:comment"/>
					<show id="lecm-absence:auto-answer-enabled"/>
					<show id="lecm-absence:auto-answer-text"/>
				</field-visibility>
				<appearance>
					<!--"fieldset", "panel", "bordered-panel", "title" and "whitespace"-->
					<set id="and-and-unlimited" template="/ru/it/lecm/base-share/components/2-columns-set-with-nested.ftl" appearance="" label=""/>
					<set id="other"/>
					<field id="lecm-absence:abscent-employee-assoc">
						<control template="/ru/it/lecm/wcalendar/controls/hidden-current-employee.ftl"/>
					</field>
					<field id="lecm-absence:begin">
						<control template="/org/alfresco/components/form/controls/hidden.ftl"/>
					</field>
					<field id="lecm-absence:end" mandatory="true" label-id="label.absence.form.out-of-office.back" set="and-and-unlimited">
						<control template="/ru/it/lecm/wcalendar/controls/date-augmented.ftl">
							<control-param name="showTime">false</control-param>
							<control-param name="dateMaxWidth">6em</control-param>
						</control>
					</field>
					<field id="lecm-absence:unlimited" label-id="label.absence.form.out-of-office.unlimited" set="and-and-unlimited">
						<control template="/ru/it/lecm/wcalendar/controls/checkbox-disabling-field.ftl">
							<control-param name="isTrue">true</control-param>
						</control>
					</field>
					<field id="lecm-absence:abscence-reason-assoc" mandatory="true" label-id="label.absence.form.out-of-office.reason" set="other">
						<constraint-handlers>
							<constraint type="MANDATORY" validation-handler="LogicECM.module.WCalendar.Absence.instantAbsenceReasonValidation" event="blur"/>
						</constraint-handlers>
					</field>
					<field id="lecm-absence:comment" set="other">
						<control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
							<control-param name="rows">3</control-param>
						</control>
					</field>
					<field id="lecm-absence:auto-answer-enabled" set="other"/>
					<field id="lecm-absence:auto-answer-text" set="other">
						<control template="/ru/it/lecm/wcalendar/controls/instant-absence-autoanswer.ftl"/>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-absence:absence">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-absence:abscence-reason-assoc"/>
					<show id="lecm-absence:begin"/>
					<show id="lecm-absence:end"/>
					<show id="lecm-absence:unlimited"/>
					<show id="lecm-absence:comment"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="model-type" condition="lecm-absence:reason">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-absence:code"/>
					<show id="lecm-absence:color"/>
				</field-visibility>
				<appearance>
					<field id="lecm-absence:color">
						<control template="/ru/it/lecm/base-share/components/controls/color-picker.ftl"/>
					</field>
					<field id="lecm-absence:code">
						<control template="/ru/it/lecm/base-share/components/controls/textfield.ftl">
							<control-param name="maxLength">10</control-param>
						</control>
					</field>
				</appearance>
			</form>
			<form id="search">
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-absence:code"/>
					<show id="lecm-absence:color"/>
				</field-visibility>
				<appearance>
                    <field id="cm:name" mandatory="false">
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="keyup" />
                        </constraint-handlers>
                    </field>
					<field id="lecm-absence:color" mandatory="false">
						<control template="/ru/it/lecm/base-share/components/controls/color-picker.ftl"/>
					</field>
					<field id="lecm-absence:code" mandatory="false">
						<control template="/ru/it/lecm/base-share/components/controls/textfield.ftl">
							<control-param name="maxLength">10</control-param>
						</control>
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="keyup" />
                        </constraint-handlers>
					</field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-absence:code"/>
					<show id="lecm-absence:color"/>
				</field-visibility>
			</form>
		</forms>
	</config>
	<config evaluator="node-type" condition="lecm-absence:reason">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-absence:code"/>
					<show id="lecm-absence:color"/>
				</field-visibility>
				<appearance>
					<field id="lecm-absence:color">
						<control template="/ru/it/lecm/base-share/components/controls/color-picker.ftl"/>
					</field>
				</appearance>
			</form>
		</forms>
	</config>
</alfresco-config>
