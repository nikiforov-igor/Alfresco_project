<alfresco-config>

	<config>
		<forms>
			<dependencies>
				<js src="/ru/it/lecm/experts/experts.js" />
			</dependencies>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:status">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
				</field-visibility>
				<appearance>
					<field id="cm:name"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-stmeditor:status">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name" force="true"/>
				</field-visibility>
				<appearance>
					<field id="cm:name"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:StartWorkflow">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:workflowId" force="true"/>
					<show id="lecm-stmeditor:assignee" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:workflowId">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
					<field id="lecm-stmeditor:assignee"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:FinishStateWithTransition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitions" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitions">
						<control template="/ru/it/lecm/statemachine/editor/transitions.ftl">
							<control-param name="itemType">lecm-stmeditor:transition</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-stmeditor:transition">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:transitionExpression" force="true"/>
					<show id="lecm-stmeditor:transitionStatus" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:transitionExpression" />
					<field id="lecm-stmeditor:transitionStatus">
						<control template="/ru/it/lecm/base-share/components/select-one-with-webscript-values.ftl">
							<control-param name="webscriptType">server</control-param>
							<control-param name="webscript">/lecm/statemachine/editor/status</control-param>
							<control-param name="withEmpty">true</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-stmeditor:statemachine">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-stmeditor:machineFolder" force="true"/>
				</field-visibility>
				<appearance>
					<field id="lecm-stmeditor:machineFolder"/>
				</appearance>
			</form>
		</forms>
	</config>


</alfresco-config>
