<?xml version="1.0" encoding="UTF-8"?>
<model name="lecm-errands:model" xmlns="http://www.alfresco.org/model/dictionary/1.0">
	<description>Logic ECM errands model</description>
	<author>Logic ECM</author>
	<version>1.0</version>
	<imports>
		<import uri="http://www.it.ru/logicECM/document/1.0" prefix="lecm-document"/>
		<import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
        <import uri="http://www.it.ru/lecm/document/aspects/1.0" prefix="lecm-document-aspects"/>
        <import uri="http://www.it.ru/lecm/org/structure/1.0" prefix="lecm-orgstr"/>
	</imports>
	<namespaces>
		<namespace uri="http://www.it.ru/logicECM/errands/1.0" prefix="lecm-errands"/>
	</namespaces>

    <!--<constraints>-->
        <!--<constraint name="lecm-errands:present-string-constraint" type="ru.it.lecm.documents.constraints.PresentStringConstraint">-->
            <!--<parameter name="presentString">-->
                <!--<value><![CDATA[Договор {lecm-contract:typeContract-assoc/cm:name} <i>№ проекта {lecm-contract:regNumProject}</i>, с {lecm-contract:partner-assoc/lecm-contractor:contractor-to-legalform-association/lecm-legalform:short-title} {lecm-contract:partner-assoc/lecm-contractor:shortname}]]></value>-->
            <!--</parameter>-->
        <!--</constraint>-->
        <!--<constraint name="lecm-errands:attachment-categories" type="LIST">-->
            <!--<parameter name="allowedValues">-->
                <!--<list>-->
                    <!--<value>Договор</value>-->
                    <!--<value>Приложения</value>-->
                    <!--<value>Спецификации</value>-->
                    <!--<value>Согласование</value>-->
                    <!--<value>Подписанный договор</value>-->
                    <!--<value>Другое</value>-->
                <!--</list>-->
            <!--</parameter>-->
        <!--</constraint>-->
    <!--</constraints>-->

    <types>
		<type name="lecm-errands:document">
			<title>Logic Ecm Errands Document</title>
			<parent>lecm-document:base</parent>
			<properties>
                <!-- Номер поручения-->
                <property name="lecm-errands:number">
                    <type>d:text</type>
                    <default>Не присвоено</default>
                    <index enabled="true">
                        <atomic>true</atomic>
                        <stored>false</stored>
                        <tokenised>both</tokenised>
                    </index>
                </property>
			</properties>
			<associations>
				<!-- Инициатор -->
				<association name="lecm-errands:initiator">
					<source>
						<mandatory>false</mandatory>
						<many>true</many>
					</source>
					<target>
						<class>lecm-orgstr:employee</class>
						<mandatory>true</mandatory>
						<many>false</many>
					</target>
				</association>
			</associations>
		</type>
	</types>
</model>