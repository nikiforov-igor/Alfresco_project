<alfresco-config>

    <config evaluator="node-type" condition="lecm-group-actions:script-action">
        <forms>
            <!-- Форма редатирования-->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:forCollection"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:form-fields-ref"/>
                    <show id="lecm-group-actions:script"/>
                </field-visibility>
	            <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-group-actions:form-fields-ref" label-id="label.form.data">
                        <control template="/ru/it/lecm/base-share/components/controls/datagrid-control.ftl">
                            <control-param name="itemType">lecm-group-actions:form-field</control-param>
                            <control-param name="height">100</control-param>
                            <control-param name="fullDelete">true</control-param>
                            <control-param name="sort">lecm-group-actions:field-priority|true</control-param>
                        </control>
                    </field>
                    <field id="lecm-group-actions:script" >
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
                            <control-param name="rows">30</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-group-actions:script-action">
        <forms>
            <!-- Форма создания (по умолчанию) -->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:forCollection"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:script"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-group-actions:script">
                        <control template="/ru/it/lecm/base-share/components/controls/textarea.ftl">
                            <control-param name="rows">30</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-group-actions:workflow-action">
        <forms>
            <!-- Форма редатирования-->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:workflow"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-group-actions:workflow">
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-group-actions:workflow-action">
        <forms>
            <!-- Форма создания (по умолчанию) -->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:workflow"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-group-actions:workflow">
                        <control template="/ru/it/lecm/base-share/components/controls/select-one-with-webscript-values.ftl">
                            <control-param name="webscript">/lecm/statemachine/editor/workflows</control-param>
                            <control-param name="withEmpty">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-group-actions:document-action">
        <forms>
            <!-- Форма редатирования-->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:document-type"/>
                    <show id="lecm-group-actions:document-connection"/>
                    <show id="lecm-group-actions:document-connection-system"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-group-actions:document-action">
        <forms>
            <!-- Форма создания (по умолчанию) -->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:expression"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                    <show id="lecm-group-actions:isGroup"/>
                    <show id="lecm-group-actions:order"/>
                    <show id="lecm-group-actions:document-type"/>
                    <show id="lecm-group-actions:document-connection"/>
                    <show id="lecm-group-actions:document-connection-system"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-group-actions:type">
                        <control template="/ru/it/lecm/base-share/components/controls/text-checkboxes-control.ftl">
                            <control-param name="dataSource">/lecm/groupActions/types</control-param>
                            <control-param name="singleValue">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-group-actions:base-action">
        <forms>
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:type"/>
                    <show id="lecm-group-actions:statuses"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="lecm-group-actions:form-field">
        <forms>
            <!-- Форма редатирования-->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:field-id"/>
                    <show id="lecm-group-actions:field-type"/>
                    <show id="lecm-group-actions:field-priority"/>
                    <show id="lecm-group-actions:field-default-value"/>
                </field-visibility>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-group-actions:form-field">
        <forms>
            <!-- Форма создания (по умолчанию) -->
            <form>
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:field-id"/>
                    <show id="lecm-group-actions:field-type"/>
                    <show id="lecm-group-actions:field-priority"/>
                    <show id="lecm-group-actions:field-default-value"/>
                </field-visibility>
            </form>
            <!-- Форма для табличного представления (набор столбцов)-->
            <form id="datagrid">
                <field-visibility>
                    <show id="cm:name"/>
                    <show id="lecm-group-actions:field-id"/>
                    <show id="lecm-group-actions:field-type"/>
                </field-visibility>
            </form>
        </forms>
    </config>

</alfresco-config>