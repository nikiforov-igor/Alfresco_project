<?xml version="1.0" encoding="UTF-8"?>
<ds.config>
    <report.descriptor mnem="errands-out-of-time">
        <l18>
            <item key="RU_RU"><![CDATA[Поручения, исполненные с нарушением сроков]]></item>
        </l18>
        <provider
            javaClass="ru.it.lecm.errands.reports.ErrandsOutOfTimeProvider" mnem="PROV_ERRANDS_OUT_TIME">
            <l18>
                <item key="RU_RU"><![CDATA[ErrandsOutOfTimeProvider]]></item>
            </l18>
        </provider>
        <templates>
            <template filename="errands-out-of-time_tmpl.jrxml"
                mnem="tmpl" type="JASPER">
                <l18>
                    <item key="RU_RU"><![CDATA[Шаблон]]></item>
                </l18>
            </template>
        </templates>
        <datasource.descriptor>
            <l18>
                <item key="RU_RU"><![CDATA[963293f1-4a45-48c3-a473-d314d4bf40ee]]></item>
            </l18>
        </datasource.descriptor>
        <roles/>
    </report.descriptor>
    <query.descriptor>
        <queryText><![CDATA[TYPE:"lecm-errands:document" AND @lecm\-statemachine\:status:"Исполнено" AND @lecm\-errands\:is\-expired:true]]></queryText>
        <querySort>createDate|ASC</querySort>
        <allVersions>true</allVersions>
        <preferedType>lecm-errands:document</preferedType>
        <isMultiRow>true</isMultiRow>
        <isRunAsSystem>true</isRunAsSystem>
        <isIncludeAllOrgs>false</isIncludeAllOrgs>
    </query.descriptor>
    <fields>
        <field alfrescoType="d:date" displayName="Дата создания" order="10"
            javaValueClass="java.util.Date" jrFldName="createDate" queryFldName="{cm:created}">
            <l18>
                <item key="RU_RU"><![CDATA[Дата создания]]></item>
            </l18>
            <parameter mnem="PARAM_TYPE_RANGE" paramType="PARAM_TYPE_RANGE">
                <l18>
                    <item key="RU_RU" value="Диапазон"/>
                </l18>
                <label1>
                    <item key="RU_RU" value=""/>
                </label1>
                <label2>
                    <item key="RU_RU" value=""/>
                </label2>
            </parameter>
        </field>
        <field alfrescoType="d:date" displayName="Дата исполнения" order="20"
               javaValueClass="java.util.Date" jrFldName="execDate" queryFldName="{lecm-errands:execution-date}">
            <l18>
                <item key="RU_RU"><![CDATA[Дата исполнения]]></item>
            </l18>
            <parameter mnem="PARAM_TYPE_RANGE" paramType="PARAM_TYPE_RANGE">
                <l18>
                    <item key="RU_RU" value="Диапазон"/>
                </l18>
                <label1>
                    <item key="RU_RU" value=""/>
                </label1>
                <label2>
                    <item key="RU_RU" value=""/>
                </label2>
            </parameter>
        </field>
        <field alfrescoType="lecm-orgstr:organization-unit" displayName="Подразделение-исполнитель" jrFldName="execUnits" order="30" queryFldName="#execUnits">
            <l18>
                <item key="RU_RU" value="Подразделение-исполнитель"/>
            </l18>
            <parameter mnem="PARAM_TYPE_LIST" paramType="PARAM_TYPE_LIST">
                <l18>
                    <item key="RU_RU" value="Список"/>
                </l18>
                <label1>
                    <item key="RU_RU" value=""/>
                </label1>
                <label2>
                    <item key="RU_RU" value=""/>
                </label2>
            </parameter>
        </field>
        <field alfrescoType="d:boolean" order="40" displayName="Важные"
               javaValueClass="java.lang.Boolean" jrFldName="importantOnly" queryFldName="#importantOnly">
            <l18>
                <item key="RU_RU" value="Важные"/>
            </l18>
            <parameter mnem="PARAM_TYPE_VALUE" paramType="PARAM_TYPE_VALUE">
                <l18> <item key="RU_RU" value="Значение"/> </l18>
            </parameter>
        </field>

        <field alfrescoType="d:text" displayName="Номер поручения"
               javaValueClass="java.lang.String" jrFldName="col_regNum" queryFldName="{lecm-errands:number}">
            <l18>
                <item key="RU_RU"><![CDATA[Номер поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:date" displayName="Дата создания"
               javaValueClass="java.util.Date" jrFldName="col_Created" queryFldName="{cm:created}">
            <l18>
                <item key="RU_RU"><![CDATA[Дата создания]]></item>
            </l18>
        </field>
        <field alfrescoType="d:date" displayName="Дата создания"
               javaValueClass="java.util.Date" jrFldName="col_Execution" queryFldName="{lecm-errands:execution-date}">
            <l18>
                <item key="RU_RU"><![CDATA[Дата исполнения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:date" displayName="Срок поручения"
               javaValueClass="java.util.Date" jrFldName="col_limitDate" queryFldName="{lecm-errands:limitation-date}">
            <l18>
                <item key="RU_RU"><![CDATA[Срок поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Инициатор поручения"
               javaValueClass="java.lang.String" jrFldName="col_Inititator" queryFldName="{lecm-errands:initiator-assoc/lecm-orgstr:employee-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Инициатор поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Исполнитель поручения"
               javaValueClass="java.lang.String" jrFldName="col_Executor" queryFldName="{lecm-errands:executor-assoc/lecm-orgstr:employee-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Исполнитель поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Подразделение"
               javaValueClass="java.lang.String" jrFldName="col_ExecutorUnit" queryFldName="{lecm-errands:executor-assoc/..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Подразделение]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Заголовок"
               javaValueClass="java.lang.String" jrFldName="col_Title" queryFldName="{lecm-errands:title}">
            <l18>
                <item key="RU_RU"><![CDATA[Заголовок]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Статус"
               javaValueClass="java.lang.String" jrFldName="col_Status" queryFldName="{lecm-statemachine:status}">
            <l18>
                <item key="RU_RU"><![CDATA[Статус]]></item>
            </l18>
        </field>
        <field alfrescoType="d:boolean" order="40" displayName="Важные"
               javaValueClass="java.lang.Boolean" jrFldName="col_Important" queryFldName="{lecm-errands:is-important}">
            <l18>
                <item key="RU_RU" value="Важные"/>
            </l18>
        </field>
    </fields>
</ds.config>
