<alfresco-config>
	<!--
		<config>
			<forms>
				<dependencies>
					<js src="/scripts/lecm-forms-editor/lecm-forms-attribute-datagrid.js"/>
					<js src="/scripts/lecm-forms-editor/lecm-forms-attributes-table-toolbar.js"/>
					<js src="/scripts/lecm-forms-editor/lecm-form-type.js"/>
					<js src="/scripts/lecm-forms-editor/lecm-form-field-component.js"/>
				</dependencies>
			</forms>
		</config>
	-->
	<config evaluator="node-type" condition="lecm-forms-editor:form">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-forms-editor:id"/>
					<show id="lecm-forms-editor:form-evaluator"/>
					<show id="lecm-forms-editor:form-id"/>
					<show id="lecm-forms-editor:form-template"/>
					<show id="lecm-forms-editor:form-attributes"/>
				</field-visibility>
				<appearance>
					<field id="lecm-forms-editor:id">
						<control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
					</field>
					<field id="lecm-forms-editor:form-evaluator" label-id="label.form.type">
						<control template="/ru/it/lecm/documentforms/controls/form-type-control.ftl">
							<control-param name="idField">prop_lecm-forms-editor_id</control-param>
							<control-param name="formIdField">prop_lecm-forms-editor_form-id</control-param>
							<control-param name="defaultIds">'defaultCreateForm', 'defaultEditForm', 'datagridForm', 'searchForm', 'workflowForm', 'statemachineEditableFieldsForm', 'documentDashletForm', 'documentForm', 'mainPageDashletsForm'</control-param>
						</control>
					</field>
					<field id="lecm-forms-editor:form-id">
						<control template="/ru/it/lecm/base-share/components/controls/textfield.ftl">
							<control-param name="containerStyleClass">hidden</control-param>
						</control>
					</field>
					<field id="lecm-forms-editor:form-template">
						<control template="/ru/it/lecm/documentforms/controls/form-layout-control.ftl"/>
					</field>
					<field id="lecm-forms-editor:form-attributes">
						<control template="/ru/it/lecm/documentforms/controls/attribute-table-control.ftl">
							<control-param name="height">100</control-param>
							<control-param name="bubblingLabel">prop_lecm-forms-editor_form-evaluator</control-param>
							<control-param name="datasourceUri">lecm/docforms/fields</control-param>
						</control>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-forms-editor:form">
		<forms>
			<form submission-url="/lecm/model-editor/type/lecm-forms-editor%3Aform/formprocessor">
				<field-visibility>
					<show id="lecm-forms-editor:id"/>
					<show id="lecm-forms-editor:form-evaluator"/>
					<show id="lecm-forms-editor:form-id"/>
					<show id="lecm-forms-editor:form-template"/>
					<show id="lecm-forms-editor:fill-by-default"/>
				</field-visibility>
				<appearance>
					<field id="lecm-forms-editor:id">
						<control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
					</field>
					<field id="lecm-forms-editor:form-evaluator" label-id="label.form.type">
						<control template="/ru/it/lecm/documentforms/controls/form-type-control.ftl">
							<control-param name="idField">prop_lecm-forms-editor_id</control-param>
							<control-param name="formIdField">prop_lecm-forms-editor_form-id</control-param>
							<control-param name="defaultIds">'defaultCreateForm', 'defaultEditForm', 'datagridForm', 'searchForm', 'workflowForm', 'statemachineEditableFieldsForm', 'documentDashletForm', 'documentForm', 'mainPageDashletsForm'</control-param>
						</control>
					</field>
					<field id="lecm-forms-editor:form-id">
						<control template="/ru/it/lecm/base-share/components/controls/textfield.ftl">
							<control-param name="containerStyleClass">hidden</control-param>
						</control>
					</field>
					<field id="lecm-forms-editor:form-template">
						<control template="/ru/it/lecm/documentforms/controls/form-layout-control.ftl"/>
					</field>
					<field id="lecm-forms-editor:fill-by-default">
						<control template="/ru/it/lecm/base-share/components/controls/selectone.ftl">
							<control-param name="options">true|Да,false|Нет</control-param>
						</control>
					</field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-forms-editor:id"/>
					<show id="lecm-forms-editor:form-id"/>
					<show id="lecm-forms-editor:form-evaluator"/>
					<show id="lecm-forms-editor:form-type"/>
					<show id="lecm-forms-editor:form-template"/>
				</field-visibility>
				<appearance>
					<field id="lecm-forms-editor:form-type" label-id="label.form.type"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-forms-editor:attr">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-forms-editor:attr-title"/>
					<show id="lecm-forms-editor:attr-name"/>
					<show id="lecm-forms-editor:attr-index"/>
					<show id="lecm-forms-editor:attr-set"/>
					<show id="lecm-forms-editor:attr-tab"/>
					<show id="lecm-forms-editor:attr-help"/>
					<show id="lecm-forms-editor:attr-mandatory"/>
					<show id="lecm-forms-editor:attr-control"/>
				</field-visibility>
				<appearance>
					<field id="lecm-forms-editor:attr-name" read-only="true"/>
					<field id="lecm-forms-editor:attr-mandatory">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-empty.ftl">
							<control-param name="options">true|Да,false|Нет</control-param>
						</control>
					</field>
					<field id="lecm-forms-editor:attr-control">
						<control template="/ru/it/lecm/documentforms/controls/form-field-component-control.ftl"/>
					</field>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="model-type" condition="lecm-forms-editor:attr">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-forms-editor:attr-title"/>
					<show id="lecm-forms-editor:attr-name"/>
					<show id="lecm-forms-editor:attr-index"/>
					<show id="lecm-forms-editor:attr-set"/>
					<show id="lecm-forms-editor:attr-tab"/>
					<show id="lecm-forms-editor:attr-help"/>
					<show id="lecm-forms-editor:attr-mandatory"/>
				</field-visibility>
				<appearance>
					<field id="lecm-forms-editor:attr-mandatory">
						<control template="/ru/it/lecm/base-share/components/controls/select-one-with-empty.ftl">
							<control-param name="options">true|Да,false|Нет</control-param>
						</control>
					</field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-forms-editor:attr-title"/>
					<show id="lecm-forms-editor:attr-name"/>
					<show id="lecm-forms-editor:attr-index"/>
					<show id="lecm-forms-editor:attr-set"/>
					<show id="lecm-forms-editor:attr-tab"/>
					<show id="lecm-forms-editor:attr-control"/>
				</field-visibility>
			</form>
		</forms>
	</config>
</alfresco-config>
