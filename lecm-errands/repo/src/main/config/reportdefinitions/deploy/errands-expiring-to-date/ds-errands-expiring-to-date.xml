<?xml version="1.0" encoding="UTF-8"?>
<ds.config>
    <report.descriptor mnem="errands-expiring-to-date">
        <l18>
            <item key="RU_RU"><![CDATA[Поручения с истекающим сроком]]></item>
        </l18>
        <provider
            javaClass="ru.it.lecm.errands.reports.ErrandsExpiredToDateProvider" mnem="PROV_ERRANDS_EXPIRED_TO_DATE">
            <l18>
                <item key="RU_RU"><![CDATA[ErrandsExpiredToDateProvider]]></item>
            </l18>
        </provider>
        <templates>
            <template filename="errands-expiring-to-date.jrxml"
                mnem="default" type="JASPER">
                <l18>
                    <item key="RU_RU"><![CDATA[Шаблон]]></item>
                </l18>
            </template>
        </templates>
        <roles/>
    </report.descriptor>
    <query.descriptor>
        <queryText><![CDATA[TYPE:"lecm-errands:document" AND NOT @lecm\-statemachine\-aspects\:is\-final:true]]></queryText>
        <querySort>col_Created|ASC</querySort>
        <allVersions>true</allVersions>
        <preferedType>lecm-errands:document</preferedType>
        <isMultiRow>true</isMultiRow>
    </query.descriptor>
    <fields>
        <!--Параметры-->
        <field alfrescoType="d:date-limit" displayName="Истекает к" order="10"
            javaValueClass="java.util.Date" jrFldName="expiredDate" queryFldName="{{expiredDate}}">
            <l18>
                <item key="RU_RU"><![CDATA[Истекает к]]></item>
            </l18>
            <parameter mnem="PARAM_TYPE_VALUE" paramType="PARAM_TYPE_VALUE">
                <l18> <item key="RU_RU" value="Значение"/> </l18>
            </parameter>
        </field>
        <field alfrescoType="lecm-orgstr:organization-unit" displayName="Исполнитель" jrFldName="execUnits" order="30" queryFldName="{{execUnits}">
            <l18>
                <item key="RU_RU" value="Исполнитель"/>
            </l18>
            <parameter mnem="PARAM_TYPE_LIST" paramType="PARAM_TYPE_LIST">
                <l18>
                    <item key="RU_RU" value="Список"/>
                </l18>
                <label1>
                    <item key="RU_RU" value=""/>
                </label1>
                <label2>
                    <item key="RU_RU" value=""/>
                </label2>
            </parameter>
        </field>
        <field alfrescoType="d:boolean" order="40" displayName="Важные"
               javaValueClass="java.lang.Boolean" jrFldName="importantOnly" queryFldName="{{importantOnly}}">
            <l18>
                <item key="RU_RU" value="Важные"/>
            </l18>
            <parameter mnem="PARAM_TYPE_VALUE" paramType="PARAM_TYPE_VALUE">
                <l18> <item key="RU_RU" value="Значение"/> </l18>
            </parameter>
        </field>

        <!--Данные-->
        <field alfrescoType="d:text" displayName="Номер поручения"
               javaValueClass="java.lang.String" jrFldName="col_regNum" queryFldName="{lecm-errands:number}">
            <l18>
                <item key="RU_RU"><![CDATA[Номер поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:date" displayName="Дата создания"
               javaValueClass="java.util.Date" jrFldName="col_Created" queryFldName="{cm:created}">
            <l18>
                <item key="RU_RU"><![CDATA[Дата создания]]></item>
            </l18>
        </field>
        <field alfrescoType="d:date" displayName="Срок исполнения"
               javaValueClass="java.util.Date" jrFldName="col_limitDate" queryFldName="{lecm-errands:limitation-date}">
            <l18>
                <item key="RU_RU"><![CDATA[Срок исполнения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Инициатор поручения"
               javaValueClass="java.lang.String" jrFldName="col_Inititator" queryFldName="{lecm-errands:initiator-assoc/lecm-orgstr:employee-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Инициатор поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Исполнитель поручения"
               javaValueClass="java.lang.String" jrFldName="col_Executor" queryFldName="{lecm-errands:executor-assoc/lecm-orgstr:employee-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Исполнитель поручения]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Подразделение"
               javaValueClass="java.lang.String" jrFldName="col_ExecutorUnit" queryFldName="{lecm-errands:executor-assoc/..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}">
            <l18>
                <item key="RU_RU"><![CDATA[Подразделение]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Заголовок"
               javaValueClass="java.lang.String" jrFldName="col_Title" queryFldName="{lecm-errands:title}">
            <l18>
                <item key="RU_RU"><![CDATA[Заголовок]]></item>
            </l18>
        </field>
        <field alfrescoType="d:text" displayName="Статус"
               javaValueClass="java.lang.String" jrFldName="col_Status" queryFldName="{lecm-statemachine:status}">
            <l18>
                <item key="RU_RU"><![CDATA[Статус]]></item>
            </l18>
        </field>
        <field alfrescoType="d:boolean" displayName="Важные"
               javaValueClass="java.lang.Boolean" jrFldName="col_Important" queryFldName="{lecm-errands:is-important}">
            <l18>
                <item key="RU_RU" value="Важные"/>
            </l18>
        </field>
    </fields>
</ds.config>
