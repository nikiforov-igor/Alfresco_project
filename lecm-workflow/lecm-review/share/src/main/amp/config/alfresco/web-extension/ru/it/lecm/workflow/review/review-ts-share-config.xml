<alfresco-config>
	<config evaluator="node-type" condition="lecm-review-ts:review-table-item">
		<forms>
			<form>
				<field-visibility>
					<show id="lecm-document:indexTableRow" force="true"/>
					<show id="lecm-review-ts:review-state"/>
					<show id="lecm-review-ts:review-start-date"/>
					<show id="lecm-review-ts:review-finish-date"/>
					<show id="lecm-review-ts:initiator-assoc"/>
					<show id="lecm-review-ts:reviewer-assoc"/>
				</field-visibility>
				<appearance>
					<field id="lecm-document:indexTableRow">
						<control template="/ru/it/lecm/base-share/components/controls/hidden-value.ftl"/>
					</field>
					<field id="lecm-review-ts:review-state" readonly="true"/>
					<field id="lecm-review-ts:review-start-date" readonly="true"/>
					<field id="lecm-review-ts:review-finish-date" readonly="true"/>
					<field id="lecm-review-ts:initiator-assoc" readonly="true"/>
					<field id="lecm-review-ts:reviewer-assoc" readonly="true"/>
				</appearance>
			</form>
		</forms>
	</config>

	<config evaluator="node-type" condition="lecm-review-list:review-list-item">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-review-list:reviewer-assoc"/>
				</field-visibility>
				<appearance>
				</appearance>
			</form>
		</forms>
	</config>
	
	<config evaluator="model-type" condition="lecm-review-list:review-list-item">
		<forms>
			<form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="lecm-review-list:reviewer-assoc"/>
				</field-visibility>
				<appearance>
				</appearance>
			</form>
		</forms>
	</config>
	
	<config evaluator="model-type" condition="lecm-review-ts:review-table-item">
		<forms>
			<form submission-url="/lecm/review/type/lecm-review-ts%3Areview-table-item/formprocessor" >
				<field-visibility>
					<show id="lecm-document:indexTableRow" force="true"/>
					<show id="lecm-review-ts:reviewer-assoc"/>
				</field-visibility>
				<appearance>
					<field id="lecm-document:indexTableRow">
						<control template="/ru/it/lecm/base-share/components/controls/hidden-value.ftl"/>
					</field>
					<field id="lecm-review-ts:reviewer-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/double-association-tree-picker.ftl">
                            <control-param name="firstItemType">lecm-orgstr:employee</control-param>
                            <control-param name="firstRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="firstNameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
                            <control-param name="firstPlane">true</control-param>
                            <control-param name="firstShowSearch">true</control-param>
                            <control-param name="firstPickerButtonLabel"><![CDATA[<i class='icon-male'></i>]]></control-param>
                            <control-param name="firstPickerButtonTitleCode">title.employee.select</control-param>
	                        <control-param name="firstUseStrictFilterByOrg">true</control-param>

                            <control-param name="secondItemType">lecm-review-list:review-list-item</control-param>
							<control-param name="secondRootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Списки_x0020_ознакомления</control-param>
                            <control-param name="secondNameSubstituteString">{cm:name}</control-param>
                            <control-param name="secondPlane">true</control-param>
                            <control-param name="secondShowSearch">true</control-param>
                            <control-param name="secondPickerButtonLabel"><![CDATA[<i class='icon-building'></i>]]></control-param>
                            <control-param name="secondPickerButtonTitleCode">title.review.list.select</control-param>
                        </control>
                    </field>
				</appearance>
			</form>
			<form id="datagrid">
				<field-visibility>
					<show id="lecm-document:indexTableRow"/>
					<show id="lecm-review-ts:reviewer-assoc"/>
					<show id="lecm-review-ts:review-state"/>
					<show id="lecm-review-ts:review-start-date"/>
					<show id="lecm-review-ts:review-finish-date"/>
					<show id="lecm-review-ts:initiator-assoc"/>
				</field-visibility>
				<appearance>
					
				</appearance>
			</form>
		</forms>
	</config>

</alfresco-config>
