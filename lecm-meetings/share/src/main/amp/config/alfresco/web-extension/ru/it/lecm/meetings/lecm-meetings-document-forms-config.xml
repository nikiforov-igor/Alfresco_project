<alfresco-config>

    <config evaluator="node-type" condition="lecm-meetings:document">
        <forms>
            <form>
                <!--				<view-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />
                <edit-form template="/ru/it/lecm/base-share/components/base-form-tabs.ftl" />-->
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Весмь день -->
                    <show id="lecm-events:all-day"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Повторное -->
                    <show id="lecm-events:repeatable"/>
                    <!-- Дата начала периода -->
                    <show id="lecm-events:repeatable-start-period"/>
                    <!-- Дата окончания периода -->
                    <show id="lecm-events:repeatable-end-period"/>
                    <!-- Правила -->
                    <show id="lecm-events:repeatable-rule"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Участники -->
                    <show id="lecm-events:temp-members-assoc"/>
                    <show id="lecm-events:temp-members-assoc-json"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!--Не рассылать приглашения-->
                    <show id="lecm-events:not-send-invitation"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Ресурсы -->
                    <show id="lecm-events:temp-resources-assoc"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                    <show id="lecm-events:subject-assoc-ref"/>
                    <show id="lecm-meetings:actual-from-date" for-mode="view"/>
                    <show id="lecm-meetings:actual-to-date" for-mode="view"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-events:title"/>
                    <field id="lecm-events:all-day">
                        <control>
                            <control-param name="fireMandatoryByChange">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.changeAllDayValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <!-- Дата начала мероприятия -->
                    <field id="lecm-events:from-date">
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.updateLocationDSValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <!-- Дата окончания мероприятия -->
                    <field id="lecm-events:to-date">
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.updateLocationDSValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <!--повторность-->
                    <field id="lecm-events:repeatable" read-only="true">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
                            <control-param name="hideFieldsIfNotSelect">lecm-events:repeatable-start-period,lecm-events:repeatable-end-period,lecm-events:repeatable-rule</control-param>
                            <control-param name="disabledFieldsIfNotSelect">lecm-events:repeatable-start-period,lecm-events:repeatable-end-period,lecm-events:repeatable-rule</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:repeatable-start-period" read-only="true">

                    </field>
                    <field id="lecm-events:repeatable-end-period" read-only="true" >

                    </field>
                    <field id="lecm-events:repeatable-rule" read-only="true">
                        <control template="/ru/it/lecm/base-share/components/controls/reiteration-control-ext.ftl" />
                    </field>

                    <!--Председатель-->
                    <field id="lecm-meetings:chairman-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <!--Секретарь-->
                    <field id="lecm-meetings:secretary-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="childrenDataSource">lecm/employees/MEETINGS_CREATOR/picker</control-param>
                        </control>
                    </field>
                    <!--участники-->
                    <field id="lecm-events:temp-members-assoc">
                        <control template="/ru/it/lecm/events/controls/events-members-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="pickerItemsScript">/lecm/events/members/picker/items</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:temp-members-assoc-json">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <!--Приглашенные-->
                    <field id="lecm-events:invited-members-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Адресанты</control-param>
                            <control-param name="nameSubstituteString">{lecm-representative:surname} {lecm-representative:firstname} {lecm-representative:propMiddlename}</control-param>
                            <control-param name="itemType">lecm-representative:representative-type</control-param>
                            <control-param name="verticalList">true</control-param>
                            <control-param name="sortSelected">true</control-param>
                        </control>
                    </field>
                    <!-- Место проведения -->
                    <field id="lecm-events:location-assoc">
                        <control template="/ru/it/lecm/events/controls/events-location-control.ftl">
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Места_x0020_проведения_x0020_мероприятий</control-param>
                            <control-param name="plane">true</control-param>
                            <control-param name="childrenDataSource">lecm/events/locations/picker</control-param>
                        </control>
                    </field>
                    <!--Ресурсы-->
                    <field id="lecm-events:temp-resources-assoc">
                        <control>
                            <control-param name="childrenDataSource">lecm/events/resources/picker</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <!-- Инициатор -->
                    <field id="lecm-events:initiator-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <!-- Тематика -->
                    <field id="lecm-events:subject-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Тематика</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:subject-assoc-ref">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <!-- Описание -->
                    <field id="lecm-events:description" >
                        <control template="/ru/it/lecm/base-share/components/controls/richtext.ftl"/>
                    </field>

                </appearance>
            </form>
            <form id="agenda">
                <field-visibility>
                    <!--Повестка-->
                    <show id="lecm-meetings-ts:items-assoc"/>
                    <show id="approve-agenda-label" force="true"/>
                    <!--Требование согласовать повестку-->
                    <show id="lecm-meetings:approve-agenda"/>
                    <show id="lecm-approval-route:approvalFolder" force="true"/>
                </field-visibility>
                <appearance>
                    <!--"Повестка"-->
                    <field id="lecm-meetings-ts:items-assoc" label-id="label.items">
                        <control template="/ru/it/lecm/meetings/components/controls/meetings-document-table-control.ftl">
                            <control-param name="attributeForShow">lecm-document:indexTableRow</control-param>
                            <control-param name="datagridFormId">items-datagrid</control-param>
                            <control-param name="expandable">false</control-param>
                            <control-param name="usePagination">false</control-param>
                            <control-param name="showLabel">false</control-param>
                            <!--<control-param name="expandDataSource">components/form?formId=table-structure-info</control-param>-->
                            <control-param name="isTableSortable">false</control-param>
                            <control-param name="refreshAfterCreate">true</control-param>
                            <!--<control-param name="deleteMessageFunction"></control-param>-->
                            <control-param name="editFormTitleMsg">meeting.item.edit.form.title</control-param>
                            <control-param name="createFormTitleMsg">meeting.item.create.form.title</control-param>
                            <control-param name="viewFormTitleMsg">meeting.item.view.form.title</control-param>
                        </control>
                    </field>
                    <field id="approve-agenda-label">
                        <control template="/ru/it/lecm/base-share/components/controls/message-control.ftl">
                            <control-param name="msg">label.approve.agenda</control-param>
                            <control-param name="cssClasses"></control-param>
                        </control>
                    </field>
                    <field id="lecm-meetings:approve-agenda">
                        <control template="/ru/it/lecm/meetings/components/controls/checkbox-control.ftl">
                            <control-param name="hideFieldsIfSelect">lecm-approval-route:approvalFolder</control-param>
                        </control>
                    </field>
                    <field id="lecm-approval-route:approvalFolder" label-id="label.forms.approval">                
                        <control template="/ru/it/lecm/routes-v2/controls/routes-datagrid-control.ftl">
                            <control-param name="noRoutesLabel">label.approval.routes.no-route</control-param>
                            <control-param name="routeDataScript">lecm/routes-v2/approvalRoutes/getRouteData</control-param>
                            <control-param name="createStageItemScript">lecm/routes-v2/approvalRoutes/CreateStageItemInQueue</control-param>
                            <control-param name="createEmptyIterationScript">lecm/routes-v2/approvalRoutes/createEmptyIteration</control-param>
                            <control-param name="createIterationFromPrevious">lecm/routes-v2/createIterationFromPreviousApproval</control-param>
                            <control-param name="convertRouteToIterationScript">lecm/routes-v2/approvalRoutes/convertRouteToIteration</control-param>
                            <control-param name="removeWorkFolderScript">lecm/routes-v2/approvalRoutes/removeWorkFolder</control-param>
                            <control-param name="createListFromRouteFormId">selectRouteForm</control-param>
                            <control-param name="createIterationFormId">createIteration</control-param>
                            <control-param name="createStageInlineFormId">editStageParametersInlineForm</control-param>
                            <control-param name="expandDataSource">ru/it/lecm/routes-v2/stages/stageExpanded</control-param>
                            <control-param name="expandedDataSource">components/form?formId=viewApprovalResult</control-param>
                            <control-param name="newListTitleMsgId">title.new.approval.list</control-param>
                            <control-param name="repeatRouteDialogFormId">repeatPreviousApprovalRouteDialog</control-param>
                            <control-param name="newListConfirmationMsgId">message.new.approval.list.confirmation</control-param>
                            <control-param name="newListFromRoutTitleMsgId">title.new.approval.list.from.route</control-param>
                            <control-param name="clearListTitleId">title.approval.list.clear</control-param>
                            <control-param name="clearListMsgId">message.clear.approval.list</control-param>
                            <control-param name="viewIterationResultFormTitleId">label.view.approval.details</control-param>
                            <control-param name="showIterationsHistoryFormId">showApprovalHistoryForm</control-param>
                            <control-param name="viewIterationResultFormId">viewApprovalResult</control-param>
                            <control-param name="editIterationFormId">editIterationProperties</control-param>
                            <control-param name="fieldsForFilterRoutes">lecm-eds-document:executor-assoc,lecm-document:author-assoc</control-param>
                        </control>                 
                    </field>
                </appearance>
            </form>

            <form id="popup-form">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Весмь день -->
                    <show id="lecm-events:all-day"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Участники -->
                    <show id="lecm-events-ts:members-assoc"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!--Не рассылать приглашения-->
                    <show id="lecm-events:not-send-invitation"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-events:location-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-control.ftl">
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Места_x0020_проведения_x0020_мероприятий</control-param>
                            <control-param name="plane">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events-ts:members-assoc">
                        <control template="/ru/it/lecm/events/controls/events-members-view-control.ftl"/>
                        <control-param name="sortSelected">true</control-param>
                    </field>
                    <field id="lecm-events:description">
                        <control template="/ru/it/lecm/base-share/components/controls/richtext.ftl"/>
                    </field>
                </appearance>
            </form>
            <!-- Форма просмотра на главной странице-->
            <form id="main-page-dashlets">
                <field-visibility>
                    <show id="viewMetadata"/>
                </field-visibility>
                <appearance>
                    <field id="viewMetadata">
                        <control template="/ru/it/lecm/events/controls/event-view-metadata-control.ftl"/>
                    </field>
                </appearance>
            </form>
            <!-- Форма с набором полей для правой области (Общие сведения) на карточке документа-->
            <form id="document">
                <field-visibility>
                    <!--Заголовок-->
                    <show id="lecm-events:title"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!--Статус-->
                    <show id="lecm-statemachine:status"/>
                </field-visibility>
            </form>

            <form id="holding">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Время начала -->
                    <show id="lecm-meetings:holding-start-date"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Участники -->
                    <show id="lecm-meetings:holding-members-assoc"/>
                    <!-- Приглашённые -->
                    <show id="lecm-meetings:holding-invited-members-assoc"/>
                    <!-- Завершено -->
                    <show id="lecm-meetings:finished"/>
                    <show id="lecm-events:from-date"/>
                    <show id="lecm-events:to-date"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-events:title" read-only="true"/>
                    <!--Председатель-->
                    <field id="lecm-meetings:chairman-assoc" read-only="true">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <!--Секретарь-->
                    <field id="lecm-meetings:secretary-assoc" read-only="true">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="childrenDataSource">lecm/employees/MEETINGS_CREATOR/picker</control-param>
                        </control>
                    </field>
                    <!--участники-->
                    <field id="lecm-meetings:holding-members-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="changeItemsFireAction">meetingHoldingChangeTechnicalMembers</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <!--Приглашенные-->
                    <field id="lecm-meetings:holding-invited-members-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Адресанты</control-param>
                            <control-param name="nameSubstituteString">{lecm-representative:surname} {lecm-representative:firstname} {lecm-representative:propMiddlename}</control-param>
                            <control-param name="itemType">lecm-representative:representative-type</control-param>
                            <control-param name="changeItemsFireAction">meetingHoldingChangeTechnicalMembers</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-meetings:finished">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-events:from-date">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-events:to-date">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                </appearance>
            </form>
            <form id="holding-accept">
                <field-visibility>
                    <show id="lecm-meetings:actual-from-date"/>
                    <show id="lecm-meetings:actual-to-date"/>
                    <show id="lecm-meetings:finished"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-meetings:finished">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden-value.ftl">
                            <control-param name="fieldValue">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-meetings:actual-from-date">
                        <control>
                            <control-param name="maxLimitCurrentDate">true</control-param>
                            <control-param name="selectedItemsFormArgs">from_date</control-param>
                            <control-param name="forceEditable">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Meetings.dateMoreThanCurrentDateValidation" message-id="message.validation.dateMoreThanCurrentDateValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-meetings:actual-to-date">
                        <control>
                            <control-param name="maxLimitCurrentDate">true</control-param>
                            <control-param name="selectedItemsFormArgs">to_date</control-param>
                            <control-param name="forceEditable">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID1" validation-handler="LogicECM.module.Meetings.toDateValidation" message-id="message.validation.toDateValidation" event="change"/>
                            <constraint type="INVALID2" validation-handler="LogicECM.module.Meetings.dateMoreThanCurrentDateValidation" message-id="message.validation.dateMoreThanCurrentDateValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                </appearance>
            </form>
            <form id="doc-right-parts">
                <field-visibility>
                    <show id="fake:document-actions"/>
                    <show id="fake:meetings-agenda"/>
                    <show id="fake:document-attachments"/>
                    <show id="fake:document-connections"/>
                    <show id="fake:document-history"/>
                    <show id="fake:comments"/>
                </field-visibility>
                <appearance>
                    <field id="fake:document-actions">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/dashlets/document-actions</control-param>
                        </control>
                    </field>
                    <field id="fake:meetings-agenda">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/meetings/meeting-agenda</control-param>
                        </control>
                    </field>
                    <field id="fake:document-attachments">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/document/document-attachments</control-param>
                        </control>
                    </field>
                    <field id="fake:document-connections">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/document/connections</control-param>
                        </control>
                    </field>
                    <field id="fake:document-history">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/document/document-history</control-param>
                        </control>
                    </field>
                    <field id="fake:comments">
                        <control template="/ru/it/lecm/documents/controls/right-part-dashlet-control.ftl">
                            <control-param name="uri">/lecm/components/document/comments</control-param>
                            <control-param name="activityType">document</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="model-type" condition="lecm-meetings:document">
        <forms>
            <form>
                <field-visibility>
                    <!--Вложения-->
                    <show id="lecm-document-aspects:attachments-temp-assoc"/>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Весь день -->
                    <show id="lecm-events:all-day"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Повторное -->
                    <show id="lecm-events:repeatable"/>
                    <!-- Дата начала периода -->
                    <show id="lecm-events:repeatable-start-period"/>
                    <!-- Дата окончания периода -->
                    <show id="lecm-events:repeatable-end-period"/>
                    <!-- Правила -->
                    <show id="lecm-events:repeatable-rule"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Участники -->
                    <show id="lecm-events:temp-members-assoc"/>
                    <show id="lecm-events:temp-members-assoc-json"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!--Не рассылать приглашения-->
                    <show id="lecm-events:not-send-invitation"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Ресурсы -->
                    <show id="lecm-events:temp-resources-assoc"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                    <show id="lecm-events:subject-assoc-ref"/>
                    <!--Согласовать повестку-->
                    <show id="lecm-meetings:approve-agenda"/>
                    <!-- Повестка -->
                    <show id="lecm-meetings:temp-items-assoc"/>
                    <show id="lecm-approval-route:approvalFolder" force="true"/>
                    <show id="lecm-document-aspects:template-name" force="true"/>
                    <show id="lecm-document-aspects:template-ref" force="true"/>
                </field-visibility>
                <appearance>
                    <set id="createEventSet" appearance="" template="/ru/it/lecm/events/event-create/event-create-set.ftl" />

                    <field id="lecm-document-aspects:attachments-temp-assoc" label-id="attachments.label" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-dnd-uploader-control-with-preview.ftl">
                            <control-param name="uploadDirectoryPath">{usertemp}</control-param>
                            <control-param name="directoryName">Вложения</control-param>
                            <control-param name="suppressRefreshEvent">true</control-param>
                        </control>
                    </field>

                    <field id="lecm-events:title" set="createEventSet"/>
                    <field id="lecm-events:all-day" set="createEventSet">
                        <control>
                            <control-param name="fireMandatoryByChange">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.changeAllDayValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:from-date" set="createEventSet">
                        <control>
                            <control-param name="defaultValue">now</control-param>
                            <control-param name="defaultTime">12:00</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.updateLocationDSValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:to-date" set="createEventSet">
                        <control>
                            <control-param name="defaultValue">now</control-param>
                            <control-param name="defaultTime">13:00</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.updateLocationDSValidation" event="change"/>
                        </constraint-handlers>
                    </field>

                    <field id="lecm-events:repeatable" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/lecm-checkbox-control.ftl">
                            <control-param name="fireMandatoryByChange">true</control-param>
                            <control-param name="hideFieldsIfNotSelect">lecm-events:repeatable-start-period,lecm-events:repeatable-end-period,lecm-events:repeatable-rule</control-param>
                            <control-param name="disabledFieldsIfNotSelect">lecm-events:repeatable-start-period,lecm-events:repeatable-end-period,lecm-events:repeatable-rule</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:repeatable-start-period" mandatory="true" set="createEventSet">
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.module.Events.repeatableValidation" event="change"/>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.repeateDateValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:repeatable-end-period" mandatory="true" set="createEventSet">
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.module.Events.repeatableValidation" event="change"/>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.repeateDateValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:repeatable-rule" mandatory="true" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/reiteration-control-ext.ftl" />
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.module.Events.repeatableValidation" event="change"/>
                        </constraint-handlers>
                    </field>

                    <!--Председатель-->
                    <field id="lecm-meetings:chairman-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <!--Секретарь-->
                    <field id="lecm-meetings:secretary-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="childrenDataSource">lecm/employees/MEETINGS_CREATOR/picker</control-param>
                        </control>
                    </field>
                    <!--участники-->
                    <field id="lecm-events:temp-members-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/events/controls/events-members-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="pickerItemsScript">/lecm/events/members/picker/items</control-param>
                            <control-param name="verticalList">true</control-param>
                            <control-param name="sortSelected">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:temp-members-assoc-json" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <!--Приглашенные-->
                    <field id="lecm-events:invited-members-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Адресанты</control-param>
                            <control-param name="nameSubstituteString">{lecm-representative:surname} {lecm-representative:firstname} {lecm-representative:propMiddlename}</control-param>
                            <control-param name="itemType">lecm-representative:representative-type</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:not-send-invitation" set="createEventSet"/>
                    <field id="lecm-events:location-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/events/controls/events-location-control.ftl">
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Места_x0020_проведения_x0020_мероприятий</control-param>
                            <control-param name="plane">true</control-param>
                            <control-param name="childrenDataSource">lecm/events/locations/picker</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:temp-resources-assoc" set="createEventSet">
                        <control>
                            <control-param name="childrenDataSource">lecm/events/resources/picker</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:initiator-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="defaultValueDataSource">lecm/orgstructure/api/getCurrentEmployee</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:description" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/richtext.ftl"/>
                    </field>
                    <field id="lecm-events:subject-assoc" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Тематика</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:subject-assoc-ref" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden.ftl"/>
                    </field>
                    <field id="lecm-meetings:approve-agenda" set="createEventSet">
                        <control>
                            <control-param name="hideFieldsIfSelect">lecm-approval-route:approvalFolder</control-param>
                        </control>
                    </field>
                    <field id="lecm-meetings:temp-items-assoc" label-id="label.items" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/association-datagrid-control.ftl">
                            <control-param name="itemType">lecm-meetings-ts:item</control-param>
                            <control-param name="allowCreate">true</control-param>
                            <control-param name="allowExpand">false</control-param>
                            <control-param name="showActions">true</control-param>
                            <control-param name="fullDelete">true</control-param>
                            <control-param name="isTableSortable">false</control-param>
                            <control-param name="height">100</control-param>
                            <control-param name="rootNode">{usertemp}</control-param>
                            <control-param name="showCreateButton">true</control-param>
                            <control-param name="showSearch">false</control-param>
                            <control-param name="showLabel">true</control-param>
                            <control-param name="newRowDialogTitle">meeting.item.create.form.title</control-param>
                            <control-param name="editRowDialogTitle">meeting.item.edit.form.title</control-param>
                            <control-param name="datagridFormId">datagrid</control-param>
                            <control-param name="editFormId">create-meetings-item-edit-form</control-param>
                        </control>
                    </field>
                    <field id="lecm-document-aspects:template-name" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden-default-value.ftl"/>
                    </field>
                    <field id="lecm-document-aspects:template-ref" set="createEventSet">
                        <control template="/ru/it/lecm/base-share/components/controls/hidden-default-value.ftl"/>
                    </field>
                    <field id="lecm-approval-route:approvalFolder" set="createEventSet" label-id="label.forms.approval">                
                        <control template="/ru/it/lecm/routes-v2/controls/routes-datagrid-control.ftl">
                            <control-param name="noRoutesLabel">label.approval.routes.no-route</control-param>
                            <control-param name="routeDataScript">lecm/routes-v2/approvalRoutes/getRouteData</control-param>
                            <control-param name="createStageItemScript">lecm/routes-v2/approvalRoutes/CreateStageItemInQueue</control-param>
                            <control-param name="createEmptyIterationScript">lecm/routes-v2/approvalRoutes/createEmptyIteration</control-param>
                            <control-param name="createIterationFromPrevious">lecm/routes-v2/createIterationFromPreviousApproval</control-param>
                            <control-param name="convertRouteToIterationScript">lecm/routes-v2/approvalRoutes/convertRouteToIteration</control-param>
                            <control-param name="removeWorkFolderScript">lecm/routes-v2/approvalRoutes/removeWorkFolder</control-param>
                            <control-param name="createListFromRouteFormId">selectRouteForm</control-param>
                            <control-param name="createIterationFormId">createIteration</control-param>
                            <control-param name="createStageInlineFormId">editStageParametersInlineForm</control-param>
                            <control-param name="expandDataSource">ru/it/lecm/routes-v2/stages/stageExpanded</control-param>
                            <control-param name="expandedDataSource">components/form?formId=viewApprovalResult</control-param>
                            <control-param name="newListTitleMsgId">title.new.approval.list</control-param>
                            <control-param name="repeatRouteDialogFormId">repeatPreviousApprovalRouteDialog</control-param>
                            <control-param name="newListConfirmationMsgId">message.new.approval.list.confirmation</control-param>
                            <control-param name="newListFromRoutTitleMsgId">title.new.approval.list.from.route</control-param>
                            <control-param name="clearListTitleId">title.approval.list.clear</control-param>
                            <control-param name="clearListMsgId">message.clear.approval.list</control-param>
                            <control-param name="viewIterationResultFormTitleId">label.view.approval.details</control-param>
                            <control-param name="showIterationsHistoryFormId">showApprovalHistoryForm</control-param>
                            <control-param name="viewIterationResultFormId">viewApprovalResult</control-param>
                            <control-param name="editIterationFormId">editIterationProperties</control-param>
                            <control-param name="fieldsForFilterRoutes">lecm-eds-document:executor-assoc,lecm-document:author-assoc</control-param>
                        </control>                 
                    </field>
                </appearance>
            </form>
            <form id="document-template-fields">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Весь день -->
                    <show id="lecm-events:all-day"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Повторное -->
                    <show id="lecm-events:repeatable"/>
                    <!-- Дата начала периода -->
                    <show id="lecm-events:repeatable-start-period"/>
                    <!-- Дата окончания периода -->
                    <show id="lecm-events:repeatable-end-period"/>
                    <!-- Правила -->
                    <show id="lecm-events:repeatable-rule"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Ресурсы -->
                    <show id="lecm-events:temp-resources-assoc"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                    <!--Согласовать повестку-->
                    <show id="lecm-meetings:approve-agenda"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-events:all-day">
                        <control>
                            <control-param name="fireMandatoryByChange">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.changeAllDayValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:from-date">
                        <control template="/ru/it/lecm/base-share/components/controls/relative-date-control.ftl">
                            <control-param name="radioOptions">RELATIVE,ABSOLUTE</control-param>
                            <control-param name="modeOptions">WORK|Рабочих,CALENDAR|Календарных</control-param>
                            <control-param name="defaultTime">12:00</control-param>
                            <control-param name="showTime">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:to-date">
                        <control template="/ru/it/lecm/base-share/components/controls/relative-date-control.ftl">
                            <control-param name="radioOptions">RELATIVE,ABSOLUTE</control-param>
                            <control-param name="modeOptions">WORK|Рабочих,CALENDAR|Календарных</control-param>
                            <control-param name="defaultTime">13:00</control-param>
                            <control-param name="showTime">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:repeatable">
                        <constraint-handlers>
                            <constraint type="INVALID" validation-handler="LogicECM.module.Events.changeRepeatableValidation" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:repeatable-start-period" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/relative-date-control.ftl">
                            <control-param name="radioOptions">RELATIVE,ABSOLUTE</control-param>
                            <control-param name="modeOptions">WORK|Рабочих,CALENDAR|Календарных</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:repeatable-end-period" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/relative-date-control.ftl">
                            <control-param name="radioOptions">RELATIVE,ABSOLUTE</control-param>
                            <control-param name="modeOptions">WORK|Рабочих,CALENDAR|Календарных</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:repeatable-rule" mandatory="true">
                        <control template="/ru/it/lecm/base-share/components/controls/reiteration-control-ext.ftl" />
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.module.Events.repeatableValidation" event="change"/>
                        </constraint-handlers>
                    </field>

                    <!--Председатель-->
                    <field id="lecm-meetings:chairman-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <!--Секретарь-->
                    <field id="lecm-meetings:secretary-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                            <control-param name="childrenDataSource">lecm/employees/MEETINGS_CREATOR/picker</control-param>
                        </control>
                    </field>
                    <!--Приглашенные-->
                    <field id="lecm-events:invited-members-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Адресанты</control-param>
                            <control-param name="nameSubstituteString">{lecm-representative:surname} {lecm-representative:firstname} {lecm-representative:propMiddlename}</control-param>
                            <control-param name="itemType">lecm-representative:representative-type</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>

                    <field id="lecm-events:location-assoc">
                        <control>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="org_field">lecm-events-dic:locations-organization-assoc-ref</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:temp-resources-assoc">
                        <control>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="org_field">lecm-events-dic:resources-organization-assoc-ref</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:initiator-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-last-name} {lecm-orgstr:employee-first-name} {lecm-orgstr:employee-middle-name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../lecm-orgstr:element-member-position-assoc/cm:name} {..lecm-orgstr:employee-link-employee-assoc(lecm-orgstr:employee-link-is-primary = true)/../../lecm-orgstr:element-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:description">
                        <control template="/ru/it/lecm/base-share/components/controls/richtext.ftl"/>
                    </field>
                    <field id="lecm-events:subject-assoc">
                        <control template="/ru/it/lecm/base-share/components/controls/association-token-control.ftl">
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Тематика</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="statemachine-editable-fields">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Весь день -->
                    <show id="lecm-events:all-day"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Повторное -->
                    <show id="lecm-events:repeatable"/>
                    <!-- Дата начала периода -->
                    <show id="lecm-events:repeatable-start-period"/>
                    <!-- Дата окончания периода -->
                    <show id="lecm-events:repeatable-end-period"/>
                    <!-- Правила -->
                    <show id="lecm-events:repeatable-rule"/>
                    <!-- Участники -->
                    <show id="lecm-events-ts:members-assoc"/>
                    <show id="lecm-events:temp-members-assoc"/>
                    <show id="lecm-events:temp-members-assoc-json"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!--Не рассылать приглашения-->
                    <show id="lecm-events:not-send-invitation"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Ресурсы -->
                    <show id="lecm-events-ts:resources-assoc"/>
                    <show id="lecm-events:temp-resources-assoc"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                    <!--Повестка-->
                    <show id="lecm-meetings-ts:items-assoc"/>
                    <!--Согласовать повестку-->
                    <show id="lecm-meetings:approve-agenda"/>
                    <!--согласование-->
                    <show id="lecm-approval-route:approvalFolder"/>
                    <!--Время начала проведения-->
                    <show id="lecm-meetings:holding-start-date"/>
                    <!--Участники проведения проведения-->
                    <show id="lecm-meetings:holding-members-assoc"/>
                    <!--Приглашённые участники проведения -->
                    <show id="lecm-meetings:holding-invited-members-assoc"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-approval-route:approvalFolder" label="Согласование (версия 2)"/>
                </appearance>
            </form>
            <form id="search-editor-fields">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Повторное -->
                    <show id="lecm-events:repeatable"/>
                    <!-- Дата начала периода -->
                    <show id="lecm-events:repeatable-start-period"/>
                    <!-- Дата окончания периода -->
                    <show id="lecm-events:repeatable-end-period"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <!--Секретарь-->
                    <show id="lecm-meetings:secretary-assoc"/>
                    <!-- Участники -->
                    <show id="lecm-events:temp-members-assoc"/>
                    <!-- Приглашённые -->
                    <show id="lecm-events:invited-members-assoc"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>

                    <show id="lecm-events:all-day"/>

                </field-visibility>
                <appearance>
                    <field id="lecm-events:location-assoc">
                        <control>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Места_x0020_проведения_x0020_мероприятий</control-param>
                            <control-param name="plane">true</control-param>
                            <control-param name="childrenDataSource">lecm/events/locations/picker</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:initiator-assoc">
                        <control>
                            <control-param name="plane">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Структура_x0020_организации_x0020_и_x0020_сотрудников/cm:Организация/cm:Сотрудники</control-param>
                            <control-param name="nameSubstituteString">{lecm-orgstr:employee-short-name}</control-param>
                            <control-param name="useStrictFilterByOrg">true</control-param>
                            <control-param name="additionalFilter">{{EMPLOYEE_HAS_LOGIN}}</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:subject-assoc">
                        <control>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="rootLocation">/app:company_home/cm:Business_x0020_platform/cm:LECM/cm:Сервис_x0020_Справочники/lecm-dic:Тематика</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:temp-members-assoc">
                        <control>
                            <control-param name="plane">true</control-param>
                            <control-param name="pickerItemsScript">/lecm/events/members/picker/items</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:invited-members-assoc">
                        <control>
                            <control-param name="itemType">lecm-representative:representative-type</control-param>
                            <control-param name="sortSelected">true</control-param>
                            <control-param name="verticalList">true</control-param>
                        </control>
                    </field>
                </appearance>
            </form>
            <form id="searchQueryGrid">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!-- Дата окончания мероприятия -->
                    <show id="lecm-events:to-date"/>
                    <!-- Инициатор -->
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Описание -->
                    <show id="lecm-events:description"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                </field-visibility>
            </form>
            <form id="search">
                <field-visibility>
                    <!-- Заголовок -->
                    <show id="lecm-events:title"/>
                    <!-- Дата начала мероприятия -->
                    <show id="lecm-events:from-date"/>
                    <!--Председатель-->
                    <show id="lecm-meetings:chairman-assoc"/>
                    <show id="lecm-meetings:secretary-assoc"/>
                    <show id="lecm-events:initiator-assoc"/>
                    <!-- Место проведения -->
                    <show id="lecm-events:location-assoc"/>
                    <!-- Тематика -->
                    <show id="lecm-events:subject-assoc"/>
                    <!--Формулировка пункта-->
                    <show id="lecm-meetings:items-assoc-item-name"/>
                </field-visibility>
                <appearance>
                    <field id="lecm-events:title">
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:from-date" label-id="label.meetings.start.date">
                        <control template="/ru/it/lecm/base-share/components/controls/daterange-control.ftl"/>
                    </field>
                    <field id="lecm-meetings:chairman-assoc">
                        <control>
                            <control-param name="endpointMany">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-meetings:secretary-assoc">
                        <control>
                            <control-param name="endpointMany">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-events:initiator-assoc">
                        <control>
                            <control-param name="endpointMany">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:location-assoc">
                        <control>
                            <control-param name="endpointMany">true</control-param>
                        </control>
                        <constraint-handlers>
                            <constraint type="MANDATORY" validation-handler="LogicECM.constraints.notMandatory" event="change"/>
                        </constraint-handlers>
                    </field>
                    <field id="lecm-events:subject-assoc">
                        <control>
                            <control-param name="plane">true</control-param>
                        </control>
                    </field>
                    <field id="lecm-meetings:items-assoc-item-name" label-id="label.meeting.item.name"/>
                </appearance>
            </form>
        </forms>
    </config>

</alfresco-config>
